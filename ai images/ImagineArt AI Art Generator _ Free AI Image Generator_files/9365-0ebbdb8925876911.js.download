"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9365],{68702:function(e,t,a){a.d(t,{i:function(){return i}});var n=a(57437),r=a(57742),l=a(7216);let s=(0,r.j)("transition-all duration-500",{variants:{orientation:{horizontal:"h-px w-full",vertical:"w-px h-full"},variant:{v1:"bg-neutral-20 dark:bg-neutral-700",v2:"bg-neutral-30 dark:bg-neutral-600"}},defaultVariants:{orientation:"horizontal",variant:"v1"}}),i=e=>{let{className:t,orientation:a,variant:r,...i}=e;return(0,n.jsx)("div",{className:(0,l.cn)(s({orientation:a,className:t,variant:r})),...i})}},1932:function(e,t,a){a.d(t,{S:function(){return d}});var n=a(57437),r=a(59143),l=a(57742),s=a(2265),i=a(7216);let o=(0,l.j)("rounded-[18px] bg-neutral-0 p-6 shadow-[0px_10px_20px_rgba(0,0,0,0.05)] transition-all duration-500 dark:bg-neutral-800 dark:shadow-none",{variants:{variant:{simple:"",selectable:"dark:hover:bg-neutral-700 hover:shadow-[0px_10px_20px_rgba(0,0,0,0.08)] cursor-pointer"}},defaultVariants:{variant:"simple"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:l,asChild:s,...d}=e,c=s?r.g7:"div";return(0,n.jsx)(c,{ref:t,className:(0,i.cn)(o({variant:l,className:a})),...d})});d.displayName="GenericCard"},30222:function(e,t,a){a.d(t,{$E:function(){return c},$c:function(){return u},DQ:function(){return h},Yk:function(){return f},Zh:function(){return p},_w:function(){return g},mp:function(){return b},vb:function(){return y}});var n=a(57437),r=a(72936),l=a(2265),s=a(12246),i=a(60789),o=a(58190),d=a(7216);let c=r.fC,u=r.xz,m=e=>{let{...t}=e;return(0,n.jsx)(r.h_,{...t})};m.displayName=r.h_.displayName;let x=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});x.displayName=r.aV.displayName;let p=e=>{let{btnProps:t={},...a}=e,{className:l,variant:i="ghost-secondary",size:c="icon-sm",...u}=t;return(0,n.jsx)(o.z,{variant:i,size:c,className:(0,d.cn)("absolute right-2 top-2",l),asChild:!0,...u,children:(0,n.jsxs)(r.x8,{...a,children:[(0,n.jsx)(s.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})})};p.displayName=r.x8.displayName;let f=l.forwardRef((e,t)=>{let{className:a,children:l,onModalClose:s,onCloseAutoFocus:o,disableAnimation:c=!1,container:u=(0,i.Ep)().isBrowser?document.body:null,...p}=e;return(0,n.jsxs)(m,{container:u,children:[(0,n.jsx)(x,{}),(0,n.jsx)(r.VY,{onCloseAutoFocus:e=>{null==s||s(),null==o||o(e)},ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!c},a),...p,children:l})]})});f.displayName=r.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...a})};g.displayName="GenericModalHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-full flex-1 flex-col gap-1",t),...a})};h.displayName="GenericModalBody";let y=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...a})};y.displayName="GenericModalFooter";let b=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,d.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",a),...l})});b.displayName=r.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,d.cn)("text-sm text-neutral-600 dark:text-neutral-40",a),...l})}).displayName=r.dk.displayName},38140:function(e,t,a){a.d(t,{A:function(){return l}});var n=a(57437),r=a(7216);let l=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-neutral-40 dark:bg-neutral-600",t),...a})}},99268:function(e,t,a){a.d(t,{I8:function(){return d},aI:function(){return c},pW:function(){return u},sR:function(){return m},u2:function(){return o}});var n=a(57437),r=a(64694),l=a(85609),s=a(2265),i=a(7216);let o=r.fC,d=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,i.cn)("inline-flex w-full items-center justify-start gap-2",a),...l})});d.displayName=r.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,i.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-neutral-30 data-[state=active]:text-neutral-900 dark:text-neutral-40 dark:data-[state=active]:bg-neutral-700 dark:data-[state=active]:text-neutral-0",a),...l})});c.displayName=r.xz.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,isActive:o=!1,layoutId:d,activeProps:c={},...u}=e,{className:m,...x}=c;return(0,n.jsxs)(r.xz,{ref:t,className:(0,i.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-40",a),...u,children:[o&&(0,n.jsx)(l.E.span,{layoutId:d,className:(0,i.cn)("absolute inset-0 rounded-xl bg-neutral-0 text-neutral-900 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-800 dark:text-neutral-0",m),transition:{type:"spring",bounce:.2,duration:.6},...x}),s]})});u.displayName=r.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.VY,{ref:t,className:a,...l})});m.displayName=r.VY.displayName},99670:function(e,t,a){a.d(t,{$:function(){return r}});var n=a(57437);a(2265);let r=e=>{let{className:t=""}=e;return(0,n.jsx)("div",{className:"my-auto inline-block animate-spin self-center rounded-full border-2 border-solid border-current border-r-transparent ".concat(t),role:"status"})}},48889:function(e,t,a){a.d(t,{X7:function(){return k},h_:function(){return j},R9:function(){return N}});var n=a(57437),r=a(2265),l=a(58424),s=a(80838),i=a(94599),o=a(69919),d=a(60750),c=a(44587),u=a(47907),m=a(68702),x=a(1932),p=a(99670),f=a(12246),g=a(16003),h=a(32340),y=a(78783),b=a(9177),v=a(58190),_=a(7216);let w=e=>{let{to:t,btnText:a,eventId:l,isHighlighted:s=!1,isPendingPlanChange:o=!1,subscriptionPlan:d,onClickHandler:c}=e,[w,N]=r.useState(!1),j=(0,u.useRouter)(),k=(0,i.useUserStoreContext)()(e=>e.user),{Weekly:E,Yearly:I}=(0,g.Td)()(e=>e.percentages),S=async()=>{N(!0);try{if(null!==l){var e;h.c.triggerEventUsingElementId(l.normalEvent),h.c.triggerEventUsingElementId(l.campaignEvent,void 0,{subscription_price:d.price}),l.sibEventId&&(0,b.iC)(l.sibEventId,null!==(e=null==k?void 0:k.email)&&void 0!==e?e:"")}await c(),t&&j.push(t,{scroll:!1})}catch(e){}N(!1)};return(0,n.jsx)(x.S,{className:(0,_.cn)("h-full max-h-[629px] w-[350px] overflow-hidden rounded-[18px] p-0 [.modal_&]:max-h-[471px] [.modal_&]:w-[262px] [.modal_&]:rounded-xl [.modal_&]:shadow-[0px_4px_20px_0px_rgba(0,0,0,0.08)]",{"bg-gradient-to-r from-[#9C4FFF] to-[#674FFF] p-0.5 [.modal_&]:p-px":s,"dark:[.modal_&]:shadow-none":!s}),children:(0,n.jsxs)(x.S,{className:"group flex h-full w-full flex-col rounded-2xl [.modal_&]:rounded-[11px]",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 [.modal_&]:gap-2",children:[(0,n.jsxs)("div",{className:"flex h-8 items-center justify-between [.modal_&]:h-6",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-base [.modal_&]:font-semibold",children:d.name}),(0,n.jsx)("div",{className:"grid h-full place-items-center rounded-xl bg-gradient-to-r from-[#9C4FFF] to-[#674FFF] p-px [.modal_&]:rounded-[10px]",children:(0,n.jsxs)("div",{className:"inline-flex h-full w-full items-center justify-start gap-0.5 rounded-[11px] bg-neutral-20 px-2 text-center text-base font-medium text-neutral-900 transition-all duration-500 dark:bg-neutral-700 dark:text-neutral-0 [.modal_&]:rounded-[9px] [.modal_&]:text-sm",children:[(0,n.jsx)("p",{children:y.t.format(d.maxQuantity)}),(0,n.jsx)(f.Ss,{className:"h-[15px] w-[15px] [.modal_&]:h-3.5 [.modal_&]:w-3.5"})]})})]}),(0,n.jsx)("p",{className:"text-sm text-neutral-600 transition-all duration-500 dark:text-neutral-40 [.modal_&]:text-xs",children:d.description})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center gap-2 [.modal_&]:mt-auto",children:[(0,n.jsxs)("span",{className:"text-[60px] font-semibold leading-[72px] text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-5xl [.modal_&]:leading-[60px]",children:["$","yearly"===d.billingInterval?Math.floor(d.price/12):d.price]}),(0,n.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,n.jsxs)("span",{className:"text-xl font-medium leading-[30px] text-primary-700 line-through transition-all duration-500 dark:text-primary-200 [.modal_&]:text-lg [.modal_&]:leading-[18px]",children:["$",(()=>{let{billingInterval:e,price:t}=d;return"yearly"===e?Math.floor(t/12/(1-I/100)):Math.floor(t/(1-E/100))})()]}),(0,n.jsxs)("span",{className:"text-base font-medium text-neutral-600 transition-all duration-500 dark:text-neutral-40 [.modal_&]:text-sm",children:["/","yearly"===d.billingInterval?"month":d.billingInterval.split("ly")[0]]})]})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-1 pt-1 text-xs font-medium leading-[18px] text-primary-700 transition-colors duration-500 dark:text-primary-200 [.modal_&]:text-[11px] [.modal_&]:leading-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-center rounded-lg bg-primary-500 bg-opacity-[0.15] px-2 py-1",children:(0,n.jsxs)("p",{className:"",children:["Billed ",d.billingInterval]})}),(0,n.jsxs)("div",{className:"flex items-center justify-center rounded-lg bg-primary-500 bg-opacity-[0.15] px-2 py-1 ",children:[(0,n.jsx)(f.qO,{}),(0,n.jsx)("p",{children:"yearly"===d.billingInterval?"".concat(I,"% off"):"".concat(E,"% off")})]})]}),(0,n.jsx)(v.z,{variant:s?"primary":"secondary",className:(0,_.cn)("mt-6 w-full [.modal_&]:hidden",{"pointer-events-none":o}),size:"xl",disabled:o||w,onClick:S,children:w?(0,n.jsx)(p.$,{className:"h-5 w-5"}):a}),(0,n.jsx)(m.i,{className:"my-[34px] [.modal_&]:mb-3 [.modal_&]:mt-4"}),(0,n.jsxs)("div",{className:"mb-[42px] flex flex-col gap-3 [.modal_&]:mb-0",children:[(0,n.jsx)("h4",{className:"font-semibold text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-xs [.modal_&]:leading-[16px]",children:d.offering.heading}),(0,n.jsx)("ul",{className:"flex flex-col gap-2",children:Object.keys(d.offering.listings).map(e=>{let t=d.offering.listings[e];return(0,n.jsxs)("li",{className:"flex items-center gap-1.5",children:[t?(0,n.jsx)(f.Ye,{className:"h-[18px] w-[18px] stroke-[1.75] text-success-600 dark:text-success-400 [.modal_&]:h-[16px] [.modal_&]:w-[16px] [.modal_&]:stroke-[1.5]"}):(0,n.jsx)(f.aM,{className:"h-[18px] w-[18px] stroke-[2] text-error-600 dark:text-error-400 [.modal_&]:h-[16px] [.modal_&]:w-[16px] [.modal_&]:stroke-[1.5]"}),(0,n.jsx)("span",{className:(0,_.cn)("text-sm font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-xs [.modal_&]:font-normal [.modal_&]:leading-[18px]",{"text-neutral-80 dark:text-neutral-200":!t}),children:e})]},e)})})]}),(0,n.jsx)(v.z,{variant:s?"primary":"secondary",className:(0,_.cn)("mt-[19px] hidden w-full [.modal_&]:inline-flex",{"pointer-events-none":o}),size:"md",disabled:o||w,onClick:S,children:w?(0,n.jsx)(p.$,{className:"h-4 w-4"}):a})]})})},N=e=>{let{result:{url:t}}=e;window.open(t,"_self")},j=e=>{e instanceof Error?c.Am.error(e.message):"object"==typeof e&&null!==e&&"message"in e?"string"==typeof e.message&&c.Am.error(e.message):c.Am.error("Something went wrong while redirecting")},k=e=>{var t,a;let{data:r,isExistingSubFailed:c,revokeActionHandler:u,selectedInterval:m}=e,x=(0,i.useUserStoreContext)()(e=>e.subscription),{subscribedPriceItem:p,stripeSubscription:f,hasRevenuecatStandardSubscription:g}=(0,d.L)(x),h=(0,l.mW)(),y=(0,l.wp)(),b=(0,s.m)(e=>e.setChangeToPlan),v=null==f?void 0:f.newPriceId,_=["pending_downgrade","pending_upgrade"].includes(null!==(a=null==f?void 0:f.currentStatus)&&void 0!==a?a:""),k=(e,t)=>async()=>{try{if(g&&e.name===o.Sz.STANDARD){null==u||u();return}switch(t){case"Subscribe":await h.mutateAsync(e.stripePriceId,{onSuccess:N,onError:j});break;case"Subscribed":c&&await y.mutateAsync(void 0,{onSuccess:N,onError:j});break;case"Downgrade":case"Upgrade":if(c){await h.mutateAsync(e.stripePriceId,{onSuccess:N,onError:j});return}_||b(e)}}catch(e){j("Couldn't redirect to payment page")}};return(0,n.jsx)("div",{className:"mt-[54px] flex w-full flex-col flex-wrap items-center justify-center gap-[18px] lg:flex-row [.modal_&]:mt-6 [.modal_&]:h-full [.modal_&]:gap-4",children:r&&(null===(t=r[m])||void 0===t?void 0:t.map(e=>{let t=_&&v===e.id,{label:a,to:r,eventId:l,sibEventId:s,campaignEventId:i}=(0,d.H)(e,p,t,g),o=c&&"Subscribed"===a?"Pay Invoice":a;return(0,n.jsx)(w,{btnText:o,subscriptionPlan:e,isPendingPlanChange:_,to:c?void 0:r,isHighlighted:e.isPopular,eventId:{campaignEvent:i||"",normalEvent:l||"",sibEventId:s||""},onClickHandler:k(e,a)},e.stripePriceId)}))})}},14505:function(e,t,a){a.d(t,{m:function(){return f}});var n=a(57437),r=a(2265),l=a(99268),s=a(91594),i=a(58424),o=a(94599),d=a(9177),c=a(48889);let u=()=>(0,n.jsx)("div",{className:"mt-[74px] text-center font-medium underline",children:"Something went wrong while fetching subscriptions. Please refresh the page."});var m=a(38140);let x=e=>{let{variant:t}=e;return(0,n.jsxs)("div",{className:"mx-auto flex w-fit flex-col items-center justify-center ".concat(t," ").concat("modal"===t?"h-full":""),children:[(0,n.jsx)(m.A,{className:"h-11 w-[208px] rounded-xl bg-neutral-30 transition-colors duration-500 dark:bg-neutral-800 [.modal_&]:min-h-10"}),(0,n.jsx)("div",{className:"mt-[54px] flex w-full flex-col flex-wrap items-center justify-center gap-[18px] lg:flex-row [.modal_&]:h-full [.modal_&]:gap-4",children:Array.from({length:3}).map((e,t)=>(0,n.jsx)(m.A,{className:"h-[577px] w-[350px] gap-[34px] rounded-[18px] bg-neutral-0 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] transition-colors duration-500 dark:bg-neutral-800 dark:shadow-none [.modal_&]:h-[471px] [.modal_&]:w-[262px] [.modal_&]:first:hidden"},"skeleton-card-".concat(t)))})]})},p={WEEKLY:"weekly",YEARLY:"yearly"},f=e=>{let{isExistingSubFailed:t,revokeActionHandler:a,variant:m="page"}=e,f=(0,o.useUserStoreContext)()(e=>e.user),{data:g,isLoading:h,isError:y}=(0,i.OJ)(),[b,v]=(0,r.useState)(p.YEARLY);return h?(0,n.jsx)(x,{variant:m}):y?(0,n.jsx)(u,{}):(0,n.jsxs)(l.u2,{value:b,defaultValue:p.YEARLY,onValueChange:v,className:"mx-auto flex w-fit flex-col items-center justify-center ".concat(m," ").concat("modal"===m?"h-full":""),children:[(0,n.jsxs)(l.I8,{className:"h-11 w-[208px] gap-0 overflow-hidden rounded-xl bg-neutral-30 p-0.5 transition-all duration-500 dark:bg-neutral-800 [.modal_&]:min-h-10",children:[(0,n.jsxs)(l.aI,{value:p.WEEKLY,onClick:()=>{var e;return(0,d.iC)(s.r.WEEKLY_TOOGLE_BTN,null!==(e=null==f?void 0:f.email)&&void 0!==e?e:"")},className:"group relative h-10 min-w-[102px] rounded-[11px] bg-transparent text-neutral-80 transition-all duration-500 data-[state=active]:bg-transparent  dark:bg-transparent dark:text-neutral-200 dark:data-[state=active]:bg-transparent [.modal_&]:h-9 [.modal_&]:min-h-9",children:[(0,n.jsx)("span",{className:"absolute h-10 min-w-[102px] translate-x-full rounded-[11px] bg-neutral-0 shadow-[0px_3px_1px_0px_rgba(0,0,0,0.04),0px_3px_8px_0px_rgba(0,0,0,0.12)] transition-all duration-500 group-data-[state=active]:translate-x-0 dark:bg-neutral-700 [.modal_&]:h-9 [.modal_&]:min-h-9"}),(0,n.jsx)("span",{className:"z-10",children:"Weekly"})]}),(0,n.jsxs)(l.aI,{value:p.YEARLY,onClick:()=>{var e;return(0,d.iC)(s.r.YEARLY_TOOGLE_BTN,null!==(e=null==f?void 0:f.email)&&void 0!==e?e:"")},className:"h-10 min-w-[102px] gap-1 rounded-[11px] bg-transparent text-neutral-80 transition-all duration-500 data-[state=active]:bg-transparent dark:bg-transparent dark:text-neutral-200 dark:data-[state=active]:bg-transparent [.modal_&]:h-9 [.modal_&]:min-h-9",children:[(0,n.jsx)("span",{className:"z-10",children:"Yearly"}),(0,n.jsx)("span",{className:"z-10 flex h-5 w-[38px] min-w-[38px] items-center justify-center rounded-md bg-success-500 bg-opacity-[0.15] text-xs font-medium text-success-500 transition-all duration-500 dark:bg-success-400 dark:bg-opacity-[0.15] dark:text-success-400",children:"-75%"})]})]}),(0,n.jsx)(c.X7,{data:g,selectedInterval:b,isExistingSubFailed:t,revokeActionHandler:a})]})}},79121:function(e,t,a){a.d(t,{d:function(){return r}});var n=a(2265);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,n.useState)(e);return{isModalOpen:t,closeModal:()=>a(!1),openModal:()=>a(!0),setIsModalOpen:a,toggleModal:()=>a(e=>!e)}}},58424:function(e,t,a){a.d(t,{jk:function(){return O},OB:function(){return R},mW:function(){return M},wN:function(){return z},sm:function(){return C},OJ:function(){return A},sb:function(){return P},wp:function(){return U},YX:function(){return T}});var n,r,l=a(9988),s=a(8186),i=a(78604),o=a(98955),d=a(90466),c=a(22304),u=a(61921),m=a(90348);let x=new u.hE({baseURL:c.v.PAYMENT_API_URL,defaultHeadersGenerator:m.A}),p="/stripe/subscription",f=async e=>{let{data:t}=await x.get("".concat(p,"/recurring"),null==e?void 0:e.requestOptions,{throwOnError:!0});return t},g=async()=>{let{data:e}=await x.get("".concat(p,"/one_time"),null,{throwOnError:!0});return{result:e.result.sort((e,t)=>e.StripePrice[0].minQuantity-t.StripePrice[0].minQuantity)}},h=async e=>{let{data:t}=await x.post("".concat(p,"/update/next-period"),{body:e},{throwOnError:!0});return t},y=async e=>{let{data:t}=await x.post("".concat(p,"/update/immediately"),{body:e},{throwOnError:!0});return t},b=async e=>{let{data:t}=await x.get("".concat(p,"/proration/").concat(e),void 0,{throwOnError:!0});return t},v=async e=>{let{data:t}=await x.post("".concat(p,"/session-expire"),{body:{checkoutSessionId:e}},{throwOnError:!0});return t},_=async e=>{var t,a;let n=null!==(t=o.Z.get(d.Y.CAMPAIGN))&&void 0!==t?t:null,r=null!==(a=o.Z.get(d.Y.TERM))&&void 0!==a?a:null,{data:l}=await x.post("".concat(p,"/checkout"),{params:{priceId:e,quantity:encodeURIComponent(1),...n?{campaign:encodeURIComponent(n)}:{},...r?{term:encodeURIComponent(r)}:{}}},{throwOnError:!0});return l},w=async e=>{let{data:t}=await x.post("".concat(p,"/checkout/top-up"),{params:{priceId:e,quantity:encodeURIComponent(1)}},{throwOnError:!0});return t},N=async()=>{let{data:e}=await x.post("".concat(p,"/billing-portal"),null,{throwOnError:!0});return e};var j=a(94599),k=a(69919);(n=r||(r={})).SUBSCRIPTION_PRODUCT="SubscriptionProduct",n.CALCULATE_PRORATION="CalculateProration",n.TOP_UPS="TopUps";let E={[k.Sz.STANDARD]:{heading:"Whatâ€™s included",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!1,"Early Access to new features":!1}},[k.Sz.PREMIUM]:{heading:"All Professional features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!0}},[k.Sz.PROFESSIONAL]:{heading:"All Standard features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!1}}},I=[k.Sz.STANDARD,k.Sz.PREMIUM,k.Sz.PROFESSIONAL],S={[k.Sz.STANDARD]:"For newcomers exploring, with limited features and image generation.",[k.Sz.PREMIUM]:"Seamless Android & Web access, expanded capabilities.",[k.Sz.PROFESSIONAL]:"Serious users for personal/commercial images."},A=()=>(0,l.useQuery)([r.SUBSCRIPTION_PRODUCT],async()=>{let e=(await f()).result.flatMap(e=>e.StripePrice.map(t=>({id:t.id,isPopular:e.name===k.Sz.PREMIUM,billingInterval:t.billingInterval,name:e.name,stripePriceId:t.stripePriceId,price:t.price,priceType:t.priceType,currency:t.currency,offering:E[e.name],description:S[e.name],maxQuantity:t.maxQuantity,minQuantity:t.minQuantity,priceDetails:t.priceDetails}))),t=(0,i.vM)(e,"billingInterval");return(0,i.Xc)(t,e=>(0,i.MR)(e,e=>I.indexOf(e.name)))},{staleTime:36e5}),P=()=>{let e=(0,j.useUserStoreContext)()(e=>e.user);return(0,l.useQuery)([r.TOP_UPS],g,{enabled:!!e,staleTime:36e5})},R=()=>(0,s.useMutation)(h),C=()=>(0,s.useMutation)(v),T=()=>(0,s.useMutation)(y),O=e=>(0,l.useQuery)([r.CALCULATE_PRORATION,e],e=>b(e.queryKey[1]),{enabled:!!e}),M=()=>(0,s.useMutation)(_),z=()=>(0,s.useMutation)(w),U=()=>(0,s.useMutation)(N)},80838:function(e,t,a){a.d(t,{m:function(){return n}});let n=(0,a(22020).Ue)()(e=>({changeToPlan:null,isImmediate:!1,setChangeToPlan:t=>e(()=>({changeToPlan:t})),setImmediate:t=>e(()=>({isImmediate:t})),resetChangeToPlan:()=>e(()=>({changeToPlan:null,isImmediate:!1})),resetChangePlanStoreStore:()=>e(()=>({changeToPlan:null,isImmediate:!1}))}))},32340:function(e,t,a){a.d(t,{c:function(){return d}});var n=a(47009),r=a(69092),l=a.n(r),s=a(22304);let i={gtmId:s.v.GTM_ID},o={autoConfig:!0,debug:s.v.IS_DEV};class d{static async initAnalytics(){let e=await a.e(5753).then(a.t.bind(a,25753,23));d.ReactPixel=e.default,this.ReactPixel.init(s.v.PIXEL_ID,void 0,o),l().initialize(i),n.Z.init(s.v.TAPFILIATE_ID,{integration:"stripe"})}static getReactPixel(){if(!d.ReactPixel)throw Error("Analytics not initialized");return d.ReactPixel}static triggerEventUsingElementId(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l().dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e,eventID:t,...a}}),d.ReactPixel.trackCustom(e)}}},78783:function(e,t,a){a.d(t,{t:function(){return n}});let n=Intl.NumberFormat("en",{notation:"compact"})}}]);