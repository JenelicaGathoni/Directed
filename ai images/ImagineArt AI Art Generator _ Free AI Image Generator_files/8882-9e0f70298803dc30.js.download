(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8882],{24960:function(){},26759:function(){},56272:function(){},91048:function(e,t,a){"use strict";a.d(t,{a:function(){return n}});let n=["_id","uid","projectId","teamID","isPublic","hasPublicLink","zIndex","cornerRadius","mockupDataId","parentArtboard","smartObjectParent","thumbnailArtboard","fills","uniformScaling","uniformInnerScaling","pinToEdge","evented","selectable","title","projectTitle","visible","showSubLayers","colorTag","lowPowerMode","drawPixelGrids","snapToPixelGrids","showMotionPath","snapOnMove","snapOnResize","isClipPath","grid","parent","layerInfo","createdBy","timestamp","clippingmagic","aiContainer","maskType","projectDesc","projectTags","AWS_Key","projectColors","colorPalettes","showProjectColors","backgroundColor","animated","videoSrc","loopVideo","isVideo","patternSrc","animations","animationFrom","animationDuration","motionOptionsExpanded","customFont","customFonts","animationPathInfo","animationPathOffset","animationPathOffsetAngle","transformEffect","startAngle","assetData","originalText","seoGroup","projectPublished","premiumTemplate","perspectiveScene","publicTemplate","hasCustomThumbnail","videoPreview","layerNameHasBeenEdited","lockedByUser","showCellConnections","linkedTo","columnWidth","columnLeft","columnType","table","csvURL","content","artboards","cellIndices","userSetTextboxWidth","FORCE_MIN_TEXT_WIDTH","forceOrigins","isMask"]},18876:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var n=a(98516);function i(e){return"activeSelection"===e.type||"group"===e.type}function r(e,t,a,r,l){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(null==o?void 0:o.current)&&(o=o.current),r||(r=[]),async function(c){for(var d=arguments.length,p=Array(d>1?d-1:0),u=1;u<d;u++)p[u-1]=arguments[u];if(!e.canvas)return a(c,...p);i(e)&&(delete o.fill,delete o.fills,delete o.stroke,delete o.patternSrc,delete e.fill,delete e.fills,delete e.stroke,delete e.patternSrc);let m={target:e,eventSource:"keyboard",e:{},action:(null==c?void 0:c.action)||l,transform:{original:{...n.fabric.util.saveObjectTransform(e),...o}}};await a(c,...p);let x=r.find(t=>JSON.stringify(m.transform.original[t])!==JSON.stringify(e[t]));return!x&&i(e)&&(x=JSON.stringify(m.transform.original)!==JSON.stringify(e)),(x||s)&&t.fire("object:modified",m),null}}},99268:function(e,t,a){"use strict";a.d(t,{I8:function(){return c},aI:function(){return d},pW:function(){return p},sR:function(){return u},u2:function(){return s}});var n=a(57437),i=a(64694),r=a(85609),l=a(2265),o=a(7216);let s=i.fC,c=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(i.aV,{ref:t,className:(0,o.cn)("inline-flex w-full items-center justify-start gap-2",a),...r})});c.displayName=i.aV.displayName;let d=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(i.xz,{ref:t,className:(0,o.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-neutral-30 data-[state=active]:text-neutral-900 dark:text-neutral-40 dark:data-[state=active]:bg-neutral-700 dark:data-[state=active]:text-neutral-0",a),...r})});d.displayName=i.xz.displayName;let p=l.forwardRef((e,t)=>{let{className:a,children:l,isActive:s=!1,layoutId:c,activeProps:d={},...p}=e,{className:u,...m}=d;return(0,n.jsxs)(i.xz,{ref:t,className:(0,o.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-40",a),...p,children:[s&&(0,n.jsx)(r.E.span,{layoutId:c,className:(0,o.cn)("absolute inset-0 rounded-xl bg-neutral-0 text-neutral-900 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-800 dark:text-neutral-0",u),transition:{type:"spring",bounce:.2,duration:.6},...m}),l]})});p.displayName=i.xz.displayName;let u=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(i.VY,{ref:t,className:a,...r})});u.displayName=i.VY.displayName},47046:function(e,t,a){"use strict";a.d(t,{F:function(){return i}});var n=a(57437);a(2265);let i=e=>{let{placeholderSettings:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"".concat(t.aspectRatio," group relative flex overflow-hidden dark:hidden"),children:(0,n.jsx)("div",{role:"status",className:"dark flex h-full w-full animate-pulse overflow-hidden rounded",children:(0,n.jsx)("div",{className:"inline-block h-full w-full overflow-hidden bg-neutral-20 dark:bg-neutral-40",children:(0,n.jsx)("div",{className:"".concat(t.placeholderSize," ").concat(t.aspectRatio)})})})}),(0,n.jsx)("div",{className:"".concat(t.aspectRatio," group relative hidden overflow-hidden dark:flex"),children:(0,n.jsx)("div",{role:"status",className:"flex h-full w-full animate-pulse overflow-hidden rounded",children:(0,n.jsx)("div",{className:"inline-block h-full w-full overflow-hidden bg-neutral-500 dark:bg-neutral-700",children:(0,n.jsx)("div",{className:"".concat(t.placeholderSize," ").concat(t.aspectRatio)})})})})]})}},39842:function(e,t,a){"use strict";a.d(t,{f:function(){return f}});var n=a(57437),i=a(82670),r=a(80146),l=a(2265),o=a(10950),s=a(99670),c=a(65052),d=a(86088),p=a(12246),u=a(32340),m=a(58190),x=a(96573),g=a(7216);let h=(0,l.forwardRef)((e,t)=>{let{name:a,value:i,disabled:h,isLoading:f,onCancel:v,generateBtnId:b,pseudoDisabled:w,shouldOverrideExpand:j,toolComponents:y,tokenCost:N,isRenderedInsideCanvasModal:k=!1,onGenerateCallback:I=()=>{},containerProps:C={},..._}=e,T=(0,l.useId)(),[E,S]=(0,l.useState)(!1),A=h||!i||(null==i?void 0:i.length)===0,{activeTool:z}=(0,d.useToolsContext)(),{className:O,...M}=C,P=k||E||j||i.length>0?"expanded":"normal",R=e=>{if("Enter"===e.key&&!e.shiftKey){var t,a;e.preventDefault(),A||f||(u.c.triggerEventUsingElementId(b,void 0,{[c.L.TOOL_USED]:z}),I(),null===(a=e.currentTarget)||void 0===a||null===(t=a.form)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})))}};return(0,n.jsxs)("label",{onFocus:()=>S(!0),onBlur:e=>S(e.currentTarget.matches(":hover")),onMouseEnter:()=>S(!0),onMouseLeave:()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.id)!==T&&S(!1)},"data-state":P,className:(0,g.cn)("hide-scrollbar prompt-wrapper group flex w-full max-w-[1024px] cursor-text justify-center rounded-[20px] bg-neutral-0 p-2.5 pl-6 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] ring-inset ring-primary-500 transition-all duration-500 focus-within:ring-1 data-[state=expanded]:h-auto data-[state=expanded]:flex-col  data-[state=normal]:flex-col data-[state=expanded]:items-end data-[state=normal]:items-center data-[state=expanded]:overflow-scroll dark:bg-neutral-900 dark:shadow-none dark:ring-primary-400",{"ring-1":j,"flex h-[122px] max-h-[122px] min-h-[122px] flex-col items-center justify-end gap-3 overflow-hidden rounded-xl pb-2 pl-3 pr-2 pt-3 dark:bg-neutral-800 dark:focus-within:!bg-neutral-800 dark:hover:bg-neutral-700":k,"relative z-50 h-[242px] max-h-[242px] min-h-[242px] rounded-none rounded-bl-xl rounded-br-xl border-t ring-0 dark:border-neutral-700 dark:ring-0 dark:hover:bg-neutral-800":k&&j},O),htmlFor:T,...M,children:[(0,n.jsx)(r.fC,{value:P,type:"single",className:"flex w-full flex-1",children:(0,n.jsx)(r.ck,{value:"expanded",className:"w-full",children:(0,n.jsx)(r.VY,{className:"group/og-accordion w-full overflow-hidden text-sm transition-all data-[state=open]:animate-accordion-down",children:(0,n.jsx)(o.Z,{minRows:1,maxRows:k&&!j?3:7,name:a,id:T,onKeyDown:e=>{if(f){e.preventDefault();return}R(e)},className:(0,g.cn)("scrollbar__variant2 mb-auto w-full resize-none border-none !bg-inherit bg-neutral-0 pl-0 text-sm font-medium leading-5 text-neutral-900 placeholder-neutral-200 outline-none transition-colors duration-500  focus:ring-0  dark:bg-neutral-900 dark:text-neutral-0 dark:placeholder-neutral-80",{"focus:placeholder-neutral-900 focus:placeholder-transparent group-data-[state=expanded]:placeholder-neutral-900 dark:group-data-[state=expanded]:placeholder-neutral-0":!k,"p-0 pr-1 text-xs/[18px] font-normal dark:focus:!placeholder-neutral-80 dark:group-hover:placeholder-neutral-0":k,"dark:group-hover:bg-neutral-800":k&&j}),placeholder:"Describe what you want to see with phrases, and separate them with commas.",value:i,..._,ref:t})})})}),(0,n.jsxs)("div",{className:(0,g.cn)("mt-auto flex w-full items-center justify-end gap-2",{"mt-0 h-9":k}),children:[(0,n.jsx)("label",{htmlFor:T,className:(0,g.cn)("w-full border-none p-0 text-sm font-medium leading-5 text-neutral-200 outline-none transition-all duration-0 focus:text-neutral-900 focus:text-transparent focus:ring-0 group-data-[state=expanded]:opacity-0 group-data-[state=normal]:opacity-100 dark:bg-neutral-900 dark:text-neutral-80",{hidden:k}),children:"Describe what you want to see with phrases, and separate them with commas."}),(0,n.jsx)("div",{"data-state":P,className:(0,g.cn)("mr-0 flex items-center justify-center gap-2 opacity-100 data-[state=normal]:mr-2 data-[state=normal]:opacity-0",{"gap-1":k}),children:y}),(0,n.jsx)("div",{"data-state":P,className:"mr-0 flex items-center justify-center data-[state=expanded]:mr-2 data-[state=expanded]:hidden",children:(0,n.jsx)(m.z,{variant:"ghost-secondary",size:"icon-xl",asChild:!0,children:(0,n.jsx)("div",{children:(0,n.jsx)(p.Rd,{className:"h-6 w-6"})})})}),(0,n.jsxs)("div",{className:(0,g.cn)("group relative grid h-10 w-[141px] min-w-[141px] place-items-center",{"h-9":k}),children:[(0,n.jsx)(x.WithGenericTooltip,{content:"Cancellation will still consume token",children:(0,n.jsx)(m.z,{type:"button",variant:"secondary",size:k?"sm":"md",className:(0,g.cn)("absolute inset-0 hidden h-0 w-0 place-items-center",{"group-hover:z-50 group-hover:flex group-hover:h-10 group-hover:w-[141px]":f}),onClick:v,children:"Cancel"})}),(0,n.jsx)(m.z,{type:"submit",size:k?"sm":"md",variant:"ai",className:(0,g.cn)("group absolute inset-0 grid place-items-center",{"group-hover:hidden group-hover:h-0 group-hover:w-0 group-hover:p-0":f,"bg-primary-100 hover:bg-primary-100 dark:bg-primary-800 dark:text-neutral-80 dark:hover:bg-primary-800":w}),onClick:e=>{if(f){e.preventDefault();return}I(),u.c.triggerEventUsingElementId(b,void 0,{[c.L.TOOL_USED]:z})},disabled:A,children:f?(0,n.jsx)(s.$,{className:"h-4 w-4"}):(0,n.jsxs)("div",{className:"flex items-center justify-between gap-[7px]",children:[(0,n.jsx)("div",{children:"Generate"}),(0,n.jsx)("div",{className:"min-h-[14px] min-w-[2px] rounded-full bg-neutral-0/50 group-disabled:bg-neutral-900/50 dark:group-disabled:bg-neutral-0/50"}),(0,n.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,n.jsx)("span",{children:N}),(0,n.jsx)(p.Ss,{className:"h-4 w-4"})]})]})})]})]})]})});h.displayName="GenericPromptInputAlt";let f=e=>{let{formHook:{control:t},name:a,disabled:r=!1,...l}=e;return(0,n.jsx)(i.Qr,{control:t,name:a,render:e=>{let{field:{ref:t,...a}}=e;return(0,n.jsx)(h,{...a,...l,ref:t,disabled:r})}})}},76021:function(e,t,a){"use strict";a.d(t,{e:function(){return i},r:function(){return n}});let n={"audio/x-mpeg":"mpega","application/postscript":"ps","audio/x-aiff":"aiff","application/x-aim":"aim","image/x-jg":"art","video/x-ms-asf":"asx","audio/basic":"ulw","video/x-msvideo":"avi","video/x-rad-screenplay":"avx","application/x-bcpio":"bcpio","application/octet-stream":"exe","image/bmp":"dib","text/html":"html","application/x-cdf":"cdf","application/pkix-cert":"cer","application/java":"class","application/x-cpio":"cpio","application/x-csh":"csh","text/css":"css","application/msword":"doc","application/xml-dtd":"dtd","video/x-dv":"dv","application/x-dvi":"dvi","application/vnd.ms-fontobject":"eot","text/x-setext":"etx","image/gif":"gif","application/x-gtar":"gtar","application/x-gzip":"gz","application/x-hdf":"hdf","application/mac-binhex40":"hqx","text/x-component":"htc","image/ief":"ief","text/vnd.sun.j2me.app-descriptor":"jad","application/java-archive":"jar","text/x-java-source":"java","application/x-java-jnlp-file":"jnlp","image/jpeg":"jpg","application/javascript":"js","text/plain":"txt","application/json":"json","audio/midi":"midi","application/x-latex":"latex","audio/x-mpegurl":"m3u","image/x-macpaint":"pnt","text/troff":"tr","application/mathml+xml":"mathml","application/x-mif":"mif","video/quicktime":"qt","video/x-sgi-movie":"movie","audio/mpeg":"mpa","video/mp4":"mp4","video/mpeg":"mpg","video/mpeg2":"mpv2","application/x-wais-source":"src","application/x-netcdf":"nc","application/oda":"oda","application/vnd.oasis.opendocument.database":"odb","application/vnd.oasis.opendocument.chart":"odc","application/vnd.oasis.opendocument.formula":"odf","application/vnd.oasis.opendocument.graphics":"odg","application/vnd.oasis.opendocument.image":"odi","application/vnd.oasis.opendocument.text-master":"odm","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.graphics-template":"otg","application/vnd.oasis.opendocument.text-web":"oth","application/vnd.oasis.opendocument.presentation-template":"otp","application/vnd.oasis.opendocument.spreadsheet-template":"ots","application/vnd.oasis.opendocument.text-template":"ott","application/ogg":"ogx","video/ogg":"ogv","audio/ogg":"spx","application/x-font-opentype":"otf","audio/flac":"flac","application/annodex":"anx","audio/annodex":"axa","video/annodex":"axv","application/xspf+xml":"xspf","image/x-portable-bitmap":"pbm","image/pict":"pict","application/pdf":"pdf","image/x-portable-graymap":"pgm","audio/x-scpls":"pls","image/png":"png","image/x-portable-anymap":"pnm","image/x-portable-pixmap":"ppm","application/vnd.ms-powerpoint":"pps","image/vnd.adobe.photoshop":"psd","image/x-quicktime":"qtif","image/x-cmu-raster":"ras","application/rdf+xml":"rdf","image/x-rgb":"rgb","application/vnd.rn-realmedia":"rm","application/rtf":"rtf","text/richtext":"rtx","application/font-sfnt":"sfnt","application/x-sh":"sh","application/x-shar":"shar","application/x-stuffit":"sit","application/x-sv4cpio":"sv4cpio","application/x-sv4crc":"sv4crc","image/svg+xml":"svgz","application/x-shockwave-flash":"swf","application/x-tar":"tar","application/x-tcl":"tcl","application/x-tex":"tex","application/x-texinfo":"texinfo","image/tiff":"tiff","text/tab-separated-values":"tsv","application/x-font-ttf":"ttf","application/x-ustar":"ustar","application/voicexml+xml":"vxml","image/x-xbitmap":"xbm","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/xml":"xsl","image/x-xpixmap":"xpm","application/xslt+xml":"xslt","application/vnd.mozilla.xul+xml":"xul","image/x-xwindowdump":"xwd","application/vnd.visio":"vsd","audio/x-wav":"wav","image/vnd.wap.wbmp":"wbmp","text/vnd.wap.wml":"wml","application/vnd.wap.wmlc":"wmlc","text/vnd.wap.wmlsc":"wmls","application/vnd.wap.wmlscriptc":"wmlscriptc","video/x-ms-wmv":"wmv","application/font-woff":"woff","application/font-woff2":"woff2","model/vrml":"wrl","application/wspolicy+xml":"wspolicy","application/x-compress":"z","application/zip":"zip"},i={aiff:"audio/x-aiff",aim:"application/x-aim",anx:"application/annodex",art:"image/x-jg",asx:"video/x-ms-asf",avi:"video/x-msvideo",avx:"video/x-rad-screenplay",axa:"audio/annodex",axv:"video/annodex",bcpio:"application/x-bcpio",cdf:"application/x-cdf",cer:"application/pkix-cert",class:"application/java",cpio:"application/x-cpio",csh:"application/x-csh",css:"text/css",dib:"image/bmp",doc:"application/msword",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",eot:"application/vnd.ms-fontobject",etx:"text/x-setext",exe:"application/octet-stream",flac:"audio/flac",gif:"image/gif",gtar:"application/x-gtar",gz:"application/x-gzip",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htc:"text/x-component",html:"text/html",ief:"image/ief",jad:"text/vnd.sun.j2me.app-descriptor",jar:"application/java-archive",java:"text/x-java-source",jnlp:"application/x-java-jnlp-file",jpg:"image/jpeg",jpeg:"image/jpeg",js:"application/javascript",json:"application/json",latex:"application/x-latex",m3u:"audio/x-mpegurl",mathml:"application/mathml+xml",midi:"audio/midi",mif:"application/x-mif",movie:"video/x-sgi-movie",mp4:"video/mp4",mpa:"audio/mpeg",mpega:"audio/x-mpeg",mpg:"video/mpeg",mpv2:"video/mpeg2",nc:"application/x-netcdf",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogv:"video/ogg",ogx:"application/ogg",otf:"application/x-font-opentype",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",pbm:"image/x-portable-bitmap",pdf:"application/pdf",pgm:"image/x-portable-graymap",pict:"image/pict",pls:"audio/x-scpls",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ps:"application/postscript",psd:"image/vnd.adobe.photoshop",qt:"video/quicktime",qtif:"image/x-quicktime",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",rtf:"application/rtf",rtx:"text/richtext",sfnt:"application/font-sfnt",sh:"application/x-sh",shar:"application/x-shar",sit:"application/x-stuffit",spx:"audio/ogg",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svgz:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texinfo:"application/x-texinfo",tiff:"image/tiff",tr:"text/troff",tsv:"text/tab-separated-values",ttf:"application/x-font-ttf",txt:"text/plain",ulw:"audio/basic",ustar:"application/x-ustar",vsd:"application/vnd.visio",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlsc",wmlscriptc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",woff:"application/font-woff",woff2:"application/font-woff2",wrl:"model/vrml",wspolicy:"application/wspolicy+xml",xbm:"image/x-xbitmap",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xpm:"image/x-xpixmap",xsl:"application/xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",z:"application/x-compress",zip:"application/zip"}},65558:function(e,t,a){"use strict";a.d(t,{So:function(){return r},Yb:function(){return o},xf:function(){return l}});var n=a(57437),i=a(2265);let r=(0,i.createContext)({project:{},activeCanvas:null,activeObject:null,canvasLoaded:!0,isRenaming:!1,toggleContextMenu:!1,eyeDropperCanvas:null,eyeDropperColor:null,notification:null,handleCleanupStore:()=>{}}),l=e=>{let{children:t}=e,[a,l]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[p,u]=(0,i.useState)(null),[m,x]=(0,i.useState)(!0),[g,h]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),[j,y]=(0,i.useState)(null),N=(0,i.useCallback)(()=>{l(null),s(null),d(null),x(!0),h(!1),v(!1),w(null),u(null),y(null)},[]),k=(0,i.useMemo)(()=>({project:a,setProject:l,activeCanvas:o,setActiveCanvas:s,activeObject:c,setActiveObject:d,canvasLoaded:m,setCanvasLoaded:x,isRenaming:g,setIsRenaming:h,toggleContextMenu:f,setToggleContextMenu:v,eyeDropperCanvas:b,setEyeDropperCanvas:w,eyeDropperColor:p,setEyeDropperColor:u,notification:j,setNotification:y,handleCleanupStore:N}),[a,o,c,m,g,f,b,p,j,N]);return(0,n.jsx)(r.Provider,{value:(0,i.useMemo)(()=>({...k}),[k]),children:t})},o=()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("useCanvasAPIStore must be used within a StoreProvider");return e}},36440:function(e,t,a){"use strict";var n,i;a.d(t,{R:function(){return n}}),(i=n||(n={})).LAST_EDITED="lastEdited",i.OLDEST_FIRST="oldestFirst",i.NEWEST_FIRST="newestFirst"},96455:function(e,t,a){"use strict";a.d(t,{G:function(){return b}});var n=a(57437),i=a(2265),r=a(41231),l=a(91048),o=a(18876),s=a(4500),c=a(65558),d=a(65986),p=a(46116),u=a(16003),m=a(67223),x=a(51326),g=a(59117),h=a(12246),f=a(7216);let v=e=>{let{currentImgIndex:t,setCurrentImgIndex:a,images:r,onCarouselImageClick:l,handleOnDragStart:o}=e,s=(0,i.useRef)(null),[c,d]=(0,i.useState)({showLeftArrow:!1,showRightArrow:!1}),p=e=>{let n="next"===e?Math.min(t+1,r.length-1):Math.max(t-1,0),i=document.getElementById(r[n].image.id);if(null==i||i.scrollIntoView({behavior:"smooth",inline:"center"}),t===n&&s.current&&i){let t="prev"===e?-s.current.scrollWidth:s.current.scrollWidth;s.current.scrollTo({left:t,behavior:"smooth"})}a(n)};return(0,i.useEffect)(()=>{s.current&&d({...c,showRightArrow:s.current.scrollLeft+s.current.clientWidth!==s.current.scrollWidth})},[r]),(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsx)("button",{"aria-label":"Previous image",className:(0,f.cn)("absolute left-2 top-1/2 z-10 hidden -translate-y-1/2 p-1 text-neutral-0 active:scale-95",{block:c.showLeftArrow}),type:"button",onClick:()=>p("prev"),children:(0,n.jsx)(h.OE,{className:"h-[18px] w-[18px] stroke-current stroke-[1.5]"})}),(0,n.jsx)(g.o,{orientation:"horizontal",hideScrollBar:!0,className:"hide-scrollbar",ref:s,onScroll:e=>{let t=e.target;d({showLeftArrow:0!==t.scrollLeft,showRightArrow:t.scrollLeft+t.clientWidth!==t.scrollWidth})},children:(0,n.jsx)("div",{className:"flex gap-2",children:r.map((e,a)=>{var i,s;let{image:c,collectionId:d}=e;return(0,n.jsx)("button",{type:"button",id:c.id,className:(0,f.cn)("m-px h-[54px] w-[54px] min-w-[54px] max-w-[54px] cursor-pointer overflow-hidden rounded-xl",{"border border-primary-400":c.id===(null===(s=r[t])||void 0===s?void 0:null===(i=s.image)||void 0===i?void 0:i.id)}),onClick:()=>l(a,d),onDragStart:e=>{o(e,a,d)},children:c.isLoading?(0,n.jsx)("div",{className:"h-full w-full animate-pulse dark:bg-neutral-700"}):(0,n.jsx)("img",{src:c.src,alt:c.id,className:"h-full w-full object-cover object-center"})},c.id)})})}),(0,n.jsx)("button",{"aria-label":"Next image",className:(0,f.cn)("absolute right-2 top-1/2 z-10 hidden -translate-y-1/2 p-1 active:scale-95",{block:c.showRightArrow}),type:"button",onClick:()=>p("next"),children:(0,n.jsx)(h.XC,{className:"h-[18px] w-[18px]"})})]})},b=e=>{var t,a;let{isLoading:g,numOfImages:h,isVariationLoading:f,isVariationSupported:b=!1,aspectRatio:w,selectedCollection:j,collections:y,setSelectedCollection:N,renderNoImages:k,handleDeleteImage:I,...C}=e,_=(0,u.Td)()(e=>e.models),T=null==j?void 0:j.settings.model,[E,S]=(0,i.useState)(0),{activeCanvas:A,activeObject:z}=(0,c.Yb)(),O=(0,p.f)(e=>e.setIsNotSaved),M=(0,i.useMemo)(()=>y.flatMap(e=>e.images.map(t=>({collectionId:e.id,image:t}))),[y]),P=(0,i.useMemo)(()=>Array.from({length:h}).map(()=>({collectionId:(0,r.Z)(),image:{id:(0,r.Z)(),src:"",isLoading:!0}})),[h]),R=(0,i.useMemo)(()=>Array.from({length:1}).map(()=>({collectionId:(0,r.Z)(),image:{id:(0,r.Z)(),src:"",isLoading:!0}})),[]),D=(0,i.useMemo)(()=>[...g?P:[],...f?R:[],...M],[g,f,M,P,R]),L=(0,i.useMemo)(()=>{var e;let t=_.find(e=>e.id===(null==T?void 0:T.id));return null===(e=null==t?void 0:t.variateEnabled)||void 0===e||e},[T,_]),V=null!==(a=null==j?void 0:j.settings.aspect_ratio)&&void 0!==a?a:s.o1.aspect_ratio,G=e=>new Promise(t=>{O(!0);let a=null==j?void 0:j.settings.prompt,n=z.toObject(l.a);Promise.all([(0,m.M6)(e),(0,m.NA)(e)]).then(async i=>{let[r,l]=i;z.aiContainer=!1,z.prompt=a,z.src=e,await (0,m.aW)(e,z),z.updatePhotoCanvas(),z.setCoords(),A.renderAll(),A.fire("photo:toolbar:update",{target:z}),t(!0),(0,d.Ih)(l.naturalHeight.toString(),l.naturalWidth.toString(),r.size.toString(),r.size.toString(),r).then(e=>{(0,o.O)(z,A,async()=>{var n;z.prompt=a,z.aiContainer=!1,z.src=e.file,await (0,m.aW)(e.file,z),z.updatePhotoCanvas(),z.setCoords(),null===(n=z.canvas)||void 0===n||n.renderAll(),A.fire("user:object:modified",{target:z}),O(!1),t(!0)},["src","width","height","aiContainer","scaleY","scaleX","prompt"],"src",n)(!0)}).catch(()=>{t(!1)})})});return((0,i.useEffect)(()=>{if(!g&&!f){let e=y.find(e=>e.id===D[0].collectionId);e&&N(e)}S(0)},[D,g,f,y,N]),0===D.length)?k():(0,n.jsxs)("div",{className:"flex h-[415px] w-full flex-col items-center justify-start gap-3",children:[(0,n.jsx)("div",{className:"flex h-[345px] items-center justify-center",children:(0,n.jsx)(x.a,{isVariationInProgress:null!=f&&f,image:null===(t=D[E])||void 0===t?void 0:t.image,isVariationSupported:b&&L,aspectRatio:0===M.length||g?w:V,onAddImageToCanvas:e=>{if(z&&"photo"===z.type)return G(e);let t=null==j?void 0:j.settings.prompt;return(0,m.PX)(A,e,t,O)},handleDeleteImage:e=>{let t=D.filter(t=>t.image.id!==e);I(e);let a=t[t.length-1];if(!a)return;let n=y.find(e=>e.id===a.collectionId);n&&N(n),S(t.length-1)},...C})}),(0,n.jsx)(v,{currentImgIndex:E,onCarouselImageClick:(e,t)=>{let a=y.find(e=>e.id===t);a&&N(a),S(e)},setCurrentImgIndex:S,handleOnDragStart:(e,t,a)=>{var n;let i=y.find(e=>e.id===a),r=D[t].image;e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("src",r.src),e.dataTransfer.setData("prompt",(null==i?void 0:null===(n=i.settings)||void 0===n?void 0:n.prompt)||""),e.currentTarget.classList.add("dragging")},images:D})]})}},93497:function(e,t,a){"use strict";a.d(t,{G:function(){return p}});var n=a(57437);a(2265);var i=a(30222),r=a(79121),l=a(12246),o=a(58190),s=a(96573),c=a(44587),d=a(7216);let p=e=>{let{triggerBtn:{className:t,size:a,variant:p,onClick:u},tooltipPlacement:m,handleDeleteImage:x,imageId:g,modalContainer:h=document.body}=e,{isModalOpen:f,setIsModalOpen:v}=(0,r.d)(),b=async()=>{try{x(g),v(!1)}catch(e){console.error(e),c.Am.error("An error occurred")}};return(0,n.jsxs)(i.$E,{open:f,onOpenChange:v,children:[(0,n.jsx)(s.WithGenericTooltip,{content:"Delete",genericTooltipContentProps:{side:m},children:(0,n.jsx)(i.$c,{asChild:!0,children:(0,n.jsxs)(o.z,{variant:p,size:a,className:(0,d.cn)("hover:text-error-500 dark:hover:text-error-500",t),onClick:u,children:[(0,n.jsx)(l.XH,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Delete"})]})})}),(0,n.jsxs)(i.Yk,{className:"w-[460px] min-w-[460px] max-w-[460px]",container:null!=h?h:void 0,children:[(0,n.jsx)(i.Zh,{}),(0,n.jsx)(i._w,{children:(0,n.jsx)(i.mp,{children:"Delete Result"})}),(0,n.jsx)(i.DQ,{className:"p-6 pt-[18px]",children:(0,n.jsx)("p",{className:"text-sm",children:"On confirmation result will be permanently deleted. Are you sure you want to delete this image?"})}),(0,n.jsx)(i.vb,{children:(0,n.jsx)(o.z,{type:"submit",onClick:b,children:"Delete result"})})]})]})}},22452:function(e,t,a){"use strict";a.d(t,{U:function(){return d}});var n=a(57437),i=a(2265),r=a(41231),l=a(4500),o=a(51326),s=a(16003),c=a(7216);let d=e=>{var t,a,d;let{images:p,isLoading:u,numOfImages:m,isVariationLoading:x,isVariationSupported:g=!1,isSettingsChanged:h,aspectRatio:f,selectedCollection:v,renderNoImages:b,...w}=e,j=(0,i.useMemo)(()=>Array.from({length:m}).map(()=>({id:(0,r.Z)(),src:"",isLoading:!0})),[m]),y=(0,i.useMemo)(()=>Array.from({length:1}).map(()=>({id:(0,r.Z)(),src:"",isLoading:!0})),[]),N=(0,i.useMemo)(()=>[...x?y:[],...u?j:[],...u&&h?[]:p],[u,x,p,j,h,y]),k=(0,s.Td)()(e=>e.models),I=null==v?void 0:v.settings.model,C=(0,i.useMemo)(()=>{var e;let t=k.find(e=>e.id===(null==I?void 0:I.id));return null===(e=null==t?void 0:t.variateEnabled)||void 0===e||e},[I,k]),_=null!==(d=null==v?void 0:v.settings.aspect_ratio)&&void 0!==d?d:l.o1.aspect_ratio;return 0!==N.length||u&&h?(0,n.jsx)("div",{className:"hide-scrollbar flex flex-1 overflow-y-auto pb-24",children:(0,n.jsx)("div",{className:(0,c.cn)("m-auto grid h-fit w-fit grid-rows-[repeat(1,_minmax(min-content,_1fr))] gap-3",null===(t=(a=l.Yx[_]).getClassnames)||void 0===t?void 0:t.call(a,N.length)),children:N.map(e=>(0,n.jsx)("div",{children:(0,n.jsx)(o.a,{isVariationInProgress:null!=x&&x,image:e,isVariationSupported:g&&C,aspectRatio:0===p.length?f:_,...w})},e.id))})}):b()}},31469:function(e,t,a){"use strict";a.d(t,{o:function(){return g}});var n=a(57437),i=a(47907),r=a(37263),l=a(91594),o=a(12246),s=a(16003),c=a(94599),d=a(60789),p=a(9177),u=a(58190),m=a(7216);let x={[r.H7.FROM_TEXT]:l.r.TEXT_TO_IMAGE_RANDOM_BTN,[r.H7.IMAGE_REMIX]:l.r.IMAGE_REMIX_RANDOM_BTN},g=e=>{let{isRenderedInsideCanvasModal:t=!1,formHook:a,name:r}=e,l=(0,c.useUserStoreContext)()(e=>e.user),g=(0,i.usePathname)(),h=(0,s.Td)()(e=>e.randomPromptLibrary);return(0,n.jsx)(u.z,{size:t?"icon-lg":"icon-xl",variant:"ghost-secondary",type:"button",onClick:e=>{var t;e.preventDefault();let n=null==h?void 0:h.paragraphs;if(!n)return;let i=(0,d.EN)(n.length),o=n[i];a.setValue(r,o.text),x[g]&&(0,p.iC)(x[g],null!==(t=null==l?void 0:l.email)&&void 0!==t?t:"")},children:(0,n.jsx)(o.Gb,{className:(0,m.cn)("h-6 w-6 stroke-[1.5]",{"h-[18px] w-[18px]":t})})})}},48104:function(e,t,a){"use strict";a.d(t,{w:function(){return O}});var n=a(57437),i=a(47907),r=a(2265),l=a(39842),o=a(37263),s=a(91594),c=a(86088),d=a(79121),p=a(46116),u=a(94599),m=a(8081),x=a(9177),g=a(7216),h=a(31469),f=a(82670),v=a(5207),b=a(12246),w=a(58190),j=a(59117),y=a(99268),N=a(16003);let k=e=>{let{tag:t,isSelected:a,onClick:i,isRenderedInsideCanvasModal:r}=e;return(0,n.jsxs)("button",{type:"button",onClick:i,className:(0,g.cn)("flex justify-center rounded-[100px] border border-solid border-neutral-40 bg-neutral-0 px-3 py-2 text-xs font-medium text-neutral-900 hover:bg-neutral-20 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-0 dark:hover:border-neutral-700 dark:hover:bg-neutral-800",{"gap-1 border-primary-500 bg-primary-500 bg-opacity-[0.15] pr-2 hover:border-primary-500 hover:bg-primary-500 hover:bg-opacity-[0.15] dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15]  dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":a,"border px-2.5 py-[5px] transition duration-500 dark:border-neutral-700 dark:bg-neutral-800 dark:bg-opacity-100 dark:hover:border-neutral-600 dark:hover:bg-neutral-700":r,"dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15] dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":r&&a}),children:[(0,n.jsx)("p",{children:t}),a&&(0,n.jsx)("button",{"aria-label":"Remove tag",type:"button",className:"flex h-4 w-4 items-center justify-center rounded-full transition-colors duration-500 hover:bg-neutral-50 dark:hover:bg-neutral-600",children:(0,n.jsx)(b.DX,{className:"h-3 w-3"})})]})},I=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],C=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],_=(e,t)=>{var a,n;return t[e]&&null!==(n=null===(a=t[e])||void 0===a?void 0:a.size)&&void 0!==n?n:0},T=e=>{let{tags:t,setTags:a,sortTags:i,category:r,setCategory:l,isRenderedInsideCanvasModal:o=!1,onCloseModal:s=()=>{}}=e,c=(0,N.Td)()(e=>e.promptKeywords),d=(e,n)=>{var i,r,l;let o={...t};o[e]=o[e]||new Set,(null===(i=o[e])||void 0===i?void 0:i.has(n))?null===(r=o[e])||void 0===r||r.delete(n):o[e]=new Set([...Array.from(null!==(l=o[e])&&void 0!==l?l:[]),n]),a(o)};return(0,n.jsxs)(y.u2,{defaultValue:r,onValueChange:l,value:r,children:[(0,n.jsxs)("div",{className:(0,g.cn)("flex items-center justify-between border-b border-neutral-20 py-3 pl-6 dark:border-neutral-800",{"gap-2 p-2  pl-3 text-neutral-900 dark:border-neutral-700 dark:text-neutral-0":o}),children:[(0,n.jsx)(j.o,{orientation:"horizontal",hideScrollBar:!0,className:(0,g.cn)("hide-scrollbar",C.join(" "),{"max-w-[calc(524px-36px-16px-8px)] overflow-x-auto":o}),children:(0,n.jsx)(y.I8,{className:(0,g.cn)("flex flex-row gap-2",{"gap-1":o}),children:c.data.map(e=>{let a=_(e.name,t),i=r===e.name;return(0,n.jsxs)(y.aI,{value:e.name,className:(0,g.cn)("flex cursor-pointer flex-row rounded-[40px] px-4 py-[6px] text-center text-sm font-medium transition-colors",{"gap-2 pr-1.5":a>0,"px-3.5 py-[5px] text-xs":o}),children:[(0,n.jsx)("p",{children:e.name}),a>0&&(0,n.jsx)("p",{className:(0,g.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-700 dark:text-neutral-0",{"bg-neutral-0 dark:bg-neutral-800":i}),children:a})]},e.name)})})}),o&&(0,n.jsx)(w.z,{onClick:s,size:"sm",variant:"ghost-secondary",className:"p-[9px]",children:(0,n.jsx)(b.I0,{className:"h-[18px] w-[18px]"})})]}),c.data.map(e=>{var a,l;return(0,n.jsx)(y.sR,{className:(0,g.cn)("scrollbar__alt flex h-[174px] flex-row flex-wrap items-center gap-1 gap-y-2 overflow-y-auto px-6 py-[18px]",{hidden:r!==e.name,"m-0 h-[250px] max-w-[524px] gap-1.5 p-3 pr-2":o}),value:e.name,asChild:!0,children:(0,n.jsxs)(j.o,{className:I.join(" "),children:[null===(a=Array.from(null!==(l=i[e.name])&&void 0!==l?l:[]))||void 0===a?void 0:a.map(a=>{var i;return(0,n.jsx)(k,{tag:a,isSelected:(null===(i=t[e.name])||void 0===i?void 0:i.has(a))||!1,onClick:()=>d(e.name,a),isRenderedInsideCanvasModal:o},a)}),e.tags.filter(t=>{var a;return!(null===(a=i[e.name])||void 0===a?void 0:a.has(t))}).map(a=>{var i;return(0,n.jsx)(k,{tag:a,isSelected:(null===(i=t[e.name])||void 0===i?void 0:i.has(a))||!1,onClick:()=>d(e.name,a),isRenderedInsideCanvasModal:o},a)})]})},e.name)})]})},E=e=>{let t=0;return Object.keys(e).forEach(a=>{var n,i;t+=null!==(i=null===(n=e[a])||void 0===n?void 0:n.size)&&void 0!==i?i:0}),t},S={[o.H7.FROM_TEXT]:s.r.TEXT_TO_IMAGE_TAGS_BTN,[o.H7.IMAGE_REMIX]:s.r.IMAGE_REMIX_TAGS_BTN},A=e=>{let{modalControl:t,tagPopoverControlArgs:a,sideOffset:l,isRenderedInsideCanvasModal:o,container:s}=e,c=(0,u.useUserStoreContext)()(e=>e.user),d=(0,i.usePathname)(),{field:p}=(0,f.bc)(a),{isModalOpen:m,setIsModalOpen:h}=t,[j,y]=(0,r.useState)("Popular"),{value:N,onChange:k}=p,[I,C]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!m){let e={};Object.keys(N).forEach(t=>{var a;let n=Array.from(null!==(a=N[t])&&void 0!==a?a:[]).sort();e[t]=new Set(n)}),C(e)}},[m,N]);let _=E(N);return(0,n.jsxs)(v.A6,{open:m,onOpenChange:h,children:[(0,n.jsx)(v.mu,{asChild:!0,children:(0,n.jsxs)(w.z,{variant:"ghost-secondary",className:(0,g.cn)("group/tag gap-2",{"bg-neutral-30 dark:bg-neutral-700":m,"h-9 gap-1.5 px-3 py-2":o&&_>0}),onClick:()=>{var e;S[d]&&(0,x.iC)(S[d],null!==(e=null==c?void 0:c.email)&&void 0!==e?e:"")},size:_>0?"md":o?"icon-lg":"icon-xl",children:[(0,n.jsx)(b.Dg,{className:(0,g.cn)("h-6 w-6",{"h-[18px] w-[18px]":o})}),_>0&&(0,n.jsx)("p",{className:(0,g.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium leading-[18px] text-neutral-900 transition-colors duration-500 group-hover/tag:bg-neutral-0 dark:bg-neutral-700 dark:text-neutral-0 dark:group-hover/tag:bg-neutral-800",{"bg-neutral-0 dark:bg-neutral-800":m,"px-1 py-0":o}),children:_})]})}),(0,n.jsx)(v.nE,{className:(0,g.cn)("mb-2 flex max-w-5xl flex-wrap dark:bg-neutral-900",{"m-0 max-w-[526px] rounded-none rounded-tl-xl rounded-tr-xl data-[state=open]:h-[310px] data-[state=open]:animate-slideUp dark:bg-neutral-800":o}),align:"end",side:"top",sideOffset:o?198:l,alignOffset:o?-197:-207,container:s,onInteractOutside:e=>{o&&e.preventDefault()},children:(0,n.jsx)(T,{tags:N,setTags:k,sortTags:I,category:j,setCategory:y,isRenderedInsideCanvasModal:o,onCloseModal:()=>{h(!1)}})})]})},z={[o.H7.FROM_TEXT]:s.r.TEXT_TO_IMAGE_GENERATE_BTN,[o.H7.IMAGE_REMIX]:s.r.IMAGE_REMIX_GENERATE_BTN,[o.H7.CANVAS_TOOL]:{[m.A2.TextToImage]:s.r.CANVAS_TEXT_TO_IMAGE_GENERATE_BTN,[m.A2.ImageRemix]:s.r.CANVAS_IMAGE_REMIX_GENERATE_BTN}},O=e=>{let{promptFormHook:t,tagPopoverControlArgs:a}=e,o=(0,u.useUserStoreContext)()(e=>e.user),s=(0,i.usePathname)(),m=(0,d.d)(),[f,v]=(0,r.useState)(68),{isRenderedInsideCanvas:b,modalContainer:w}=(0,c.useToolsContext)(),{activeAITool:j}=(0,p.f)();return(0,n.jsx)("div",{className:(0,g.cn)("absolute inset-x-0 bottom-6 mx-auto w-full px-4",{"bottom-0 p-0":b}),children:(0,n.jsx)("div",{className:"mx-auto w-full max-w-5xl",children:(0,n.jsx)(l.f,{onHeightChange:e=>v(e+20),toolComponents:[(0,n.jsx)(A,{tagPopoverControlArgs:a,modalControl:m,sideOffset:f,isRenderedInsideCanvasModal:b,container:w},"TagPopover"),(0,n.jsx)(h.o,{isRenderedInsideCanvasModal:b,name:t.name,formHook:t.formHook},"RandomPromptCTA")],shouldOverrideExpand:m.isModalOpen,isRenderedInsideCanvasModal:b,onGenerateCallback:()=>{m.closeModal();let e=z[s];if(e){var a,n;if("string"==typeof e){(0,x.iC)(e,null!==(a=null==o?void 0:o.email)&&void 0!==a?a:"",t.formHook.getValues());return}j&&e[j]&&(0,x.iC)(e[j],null!==(n=null==o?void 0:o.email)&&void 0!==n?n:"",t.formHook.getValues())}},...t})})})};O.displayName="ResultViewCTA"},51326:function(e,t,a){"use strict";a.d(t,{a:function(){return j}});var n=a(57437),i=a(47046),r=a(4500),l=a(86088),o=a(2265),s=a(65052),c=a(43351),d=a(12246),p=a(32340),u=a(58190),m=a(96573),x=a(7216),g=a(93497),h=a(99670);let f=e=>{let{onClick:t,imgSrc:a}=e,[i,r]=(0,o.useState)("idle"),l=async()=>{p.c.triggerEventUsingElementId(s.i.ADD_TO_CANVAS),t&&(r("loading"),await t(a),r("completed"))};return(0,o.useEffect)(()=>{let e;return"completed"===i&&(e=setTimeout(()=>{r("idle")},1500)),()=>{e&&clearTimeout(e)}},[i]),(0,n.jsxs)("div",{className:"absolute left-1/2 top-1/2 h-9 w-[127px] -translate-x-1/2 -translate-y-1/2",children:[(0,n.jsx)("div",{className:"absolute z-[1] h-9 w-[127px] rounded-lg bg-black bg-opacity-[0.34] opacity-0 ring-1 ring-neutral-0 backdrop-blur-sm transition-all duration-500 active:translate-y-[0.0625rem] group-hover:opacity-100"}),(0,n.jsx)(u.z,{variant:"none",size:"sm",type:"submit",onClick:l,className:"absolute inset-0 z-[2] mx-auto grid h-9 w-[127px] place-items-center opacity-0 !transition-opacity duration-500 group-hover:opacity-100",children:(()=>{switch(i){case"idle":default:return"Add to Canvas";case"loading":return(0,n.jsx)(h.$,{className:"h-4 w-4"});case"completed":return"Added!"}})()})]})},v=e=>{let{children:t,className:a}=e;return(0,n.jsx)("div",{className:(0,x.cn)("absolute inline-flex flex-col items-center justify-center gap-1 rounded-lg bg-black bg-opacity-[0.34] p-1 opacity-100 backdrop-blur-sm transition-all duration-500",a),children:t})},b="rounded p-1 text-neutral-0 hover:bg-neutral-0 hover:bg-opacity-[0.24] h-8 w-8",w=e=>{let{placeholderSettings:t,image:a,isVariationSupported:i,isVariationInProgress:r,handleUpscale:o,handleFullView:h,handleDeleteImage:w,handleImageVariate:j,handleFocusOriginalImage:y,onAddImageToCanvas:N}=e,{id:k,isFocused:I=!1,isUpscaled:C=!1,upscaleSrc:_,src:T}=a,E="isVariation"in a&&a.isVariation,S="originalImageId"in a?a.originalImageId:null,A="originalSrc"in a?a.originalSrc:null,{modalContainer:z,isRenderedInsideCanvas:O,activeTool:M}=(0,l.useToolsContext)(),{downloadImage:P}=(0,c.q)(a),R=()=>{S&&(null==y||y(S))};return(0,n.jsxs)("div",{id:k,className:"\n        ".concat(t.aspectRatio," ").concat(t.maxH," group relative flex h-full w-fit overflow-hidden rounded"),children:[(0,n.jsx)("img",{src:C?_:T,alt:k,className:(0,x.cn)("h-full w-full rounded transition-all duration-100",{"border-2 border-primary-500":I})}),(0,n.jsx)("button",{type:"button",onClick:()=>{O||(h(k),p.c.triggerEventUsingElementId(s.i.FULL_VIEW_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M}))},"aria-label":"Open Full View",className:"absolute inset-0 "}),(0,n.jsxs)(v,{className:"right-2 top-2 opacity-0 transition-all duration-500 group-hover:opacity-100",children:[(0,n.jsx)(m.WithGenericTooltip,{content:"Download",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(u.z,{variant:"none",size:"none",className:b,onClick:()=>{p.c.triggerEventUsingElementId(s.i.DOWNLOAD_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M}),P()},children:[(0,n.jsx)(d._8,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download"})]})}),!O&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.WithGenericTooltip,{content:"Full View",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(u.z,{variant:"none",size:"none",className:b,onClick:()=>{h(k),p.c.triggerEventUsingElementId(s.i.FULL_VIEW_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M})},children:[(0,n.jsx)(d.MZ,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Full View"})]})}),(0,n.jsx)("span",{className:"m-1 h-[2px] w-[18px] rounded bg-neutral-0 bg-opacity-[0.24]"})]}),(0,n.jsx)(g.G,{tooltipPlacement:"left",handleDeleteImage:w,modalContainer:z,imageId:k,triggerBtn:{size:"none",variant:"none",className:b,onClick:()=>{p.c.triggerEventUsingElementId(s.i.DELETE_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M})}}})]}),(0,n.jsxs)(v,{className:"bottom-2 right-2 opacity-0 transition-all duration-500 group-hover:opacity-100",children:[(0,n.jsx)(m.WithGenericTooltip,{content:C?"Upscaled":"Upscale",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(u.z,{variant:C?"primary":"none",size:"none",onClick:()=>{p.c.triggerEventUsingElementId(s.i.UPSCALE_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M}),null==o||o(k)},className:(0,x.cn)(b,{"bg-primary-500 hover:bg-primary-600 hover:bg-opacity-100 focus:bg-primary-500":C}),children:[(0,n.jsx)(d.yW,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Upscale"})]})}),i&&(0,n.jsx)(m.WithGenericTooltip,{content:"Variate",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(u.z,{variant:"none",size:"none",onClick:()=>{r||(p.c.triggerEventUsingElementId(s.i.VARIATE_IMAGE_HOVER,void 0,{[s.L.TOOL_USED]:M}),null==j||j(k))},className:b,children:[(0,n.jsx)(d.lw,{className:"h-6 w-6 stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Variate"})]})})]}),E&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute right-0 top-0 rounded-bl-lg bg-black bg-opacity-[0.24] p-1 text-neutral-0 opacity-100 transition-all duration-500 group-hover:opacity-0",children:(0,n.jsx)(d.lw,{className:"h-5 w-5 stroke-[1.5]"})}),(0,n.jsxs)("div",{className:"group/og-image absolute bottom-2 left-2 overflow-hidden rounded-lg border border-neutral-0 border-opacity-[0.24] opacity-0 transition-all duration-500 group-hover:opacity-100 ".concat(t.thumbnailSize),onClick:R,onKeyDown:R,role:"button",tabIndex:0,children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,n.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})}),A&&(0,n.jsx)("img",{src:A,alt:"Original",className:"h-full w-full rounded-lg object-cover"})]})]}),O&&(0,n.jsx)(f,{onClick:N,imgSrc:T})]})},j=e=>{let{aspectRatio:t,isUserPremium:a,image:o,...s}=e,{isRenderedInsideCanvas:c}=(0,l.useToolsContext)(),d=c?r.Oe[t]:r.bk[t],{isLoading:p=!1}=o;return p?(0,n.jsx)(i.F,{placeholderSettings:d}):(0,n.jsx)(w,{image:o,placeholderSettings:d,...s})}},12694:function(e,t,a){"use strict";a.d(t,{h:function(){return O}});var n=a(57437),i=a(70129),r=a(43341),l=a(2265),o=a(12246),s=a(58190),c=a(4500),d=a(18896),p=a(47046),u=a(7216);let m=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Next Button",className:"absolute right-4 top-1/2 z-50 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-neutral-0 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(o.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},x=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Previous Button",className:"absolute left-4 top-1/2 z-50 rotate-180 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(o.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},g=e=>{let{onClick:t,isSelected:a,index:i}=e,r=(0,l.useRef)(null);return(0,l.useEffect)(()=>{a&&setTimeout(()=>{var e;null===(e=document.getElementById("image-carousel-indicator-".concat(i)))||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center"})},0)},[i,a]),(0,n.jsx)("button",{ref:r,id:"image-carousel-indicator-".concat(i),"aria-label":"Image#".concat(i),type:"button",onClick:t,className:(0,u.cn)("h-2 min-h-2 w-[18px] min-w-[18px] rounded-full bg-neutral-0 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px]",{"bg-opacity-100":a})})},h=e=>{let{images:t,className:a="",currentImgIndex:i,onChange:r,aspectRatio:o}=e,s=(0,l.useRef)(null),u=c.bk[o];return(0,l.useEffect)(()=>{var e;null===(e=s.current)||void 0===e||e.forceFocus()},[]),(0,n.jsx)("div",{className:"grid flex-1 place-items-center",children:(0,n.jsx)(d.lr,{ref:s,useKeyboardArrows:!0,infiniteLoop:!0,showStatus:!1,showThumbs:!1,showIndicators:t.length>1,renderArrowNext:e=>t.length>1?(0,n.jsx)(m,{onClick:e}):null,renderArrowPrev:e=>t.length>1?(0,n.jsx)(x,{onClick:e}):null,onChange:e=>{null==r||r(e)},renderIndicator:(e,t,a)=>(0,n.jsx)(g,{onClick:e,isSelected:t,index:a}),selectedItem:i,children:t.map(e=>e.isLoading?(0,n.jsx)("div",{className:"grid h-full w-full place-items-center",children:(0,n.jsx)(p.F,{placeholderSettings:u})},e.id):(0,n.jsx)("div",{className:"h-full w-full",children:(0,n.jsx)("img",{src:e.isUpscaled?e.upscaleSrc:e.src,alt:e.id,className:"".concat(a," h-full max-h-screen w-full object-contain")})},e.id))})})};var f=a(93497),v=a(43351),b=a(96573);let w=e=>{let{collection:t,currentImgIndex:a,handleDeleteImage:i,setCurrentImgIndex:r,closeFullViewModal:l}=e,c=t.images[a],{downloadImage:d}=(0,v.q)(c);return(0,n.jsxs)("div",{className:"flex h-[68px] items-center justify-end gap-1 border-t border-neutral-30 p-3.5 dark:border-neutral-700",children:[(0,n.jsx)(f.G,{tooltipPlacement:"top",handleDeleteImage:e=>{1===t.images.length?l():0===a?r(0):a===t.images.length-1&&r(a-1),i(e)},imageId:c.id,triggerBtn:{size:"icon-xl",variant:"ghost-secondary",className:"hover:text-error-500"}}),(0,n.jsx)(b.WithGenericTooltip,{content:"Download",children:(0,n.jsxs)(s.z,{type:"button",variant:"ghost-secondary",size:"icon-xl",onClick:d,children:[(0,n.jsx)(o._8,{className:"stroke-[1.75]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download Image"})]})})]})},j=e=>{let{children:t,className:a=""}=e;return(0,n.jsx)("div",{className:(0,u.cn)("flex flex-col gap-[18px] rounded-xl border border-neutral-30 bg-neutral-20 p-3.5 text-left dark:border-neutral-700 dark:bg-neutral-800",a),children:t})};var y=a(38362);let N=e=>{let{settingName:t,Icon:a,value:i,onChange:r}=e;return(0,n.jsxs)("div",{className:"flex h-6 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a,{className:"text-primary-600"}),(0,n.jsx)("p",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:t})]}),(0,n.jsx)("div",{children:(0,n.jsx)(y.L,{checked:i,onCheckedChange:r,size:"md"})})]})},k=e=>{var t;let{collection:a,currentImgIndex:i,handleUpscale:r}=e,l=a.images[i];return(0,n.jsx)(j,{children:(0,n.jsx)(N,{value:null!==(t=l.isUpscaled)&&void 0!==t&&t,onChange:()=>{l.isLoading||r(l.id)},Icon:o.yW,settingName:"Upscale"})})};var I=a(74961),C=a(44587);let _=e=>{let{prompt:t}=e,[,a]=(0,I.m9)();return(0,n.jsxs)(j,{className:"max-h-[230px] p-0 py-3.5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3.5",children:[(0,n.jsx)("h2",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-0",children:"Prompt"}),(0,n.jsx)(b.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)("button",{"aria-label":"Copy Prompt",type:"button",className:"grid h-6 w-6 place-items-center rounded-md bg-neutral-30 dark:border dark:border-neutral-500 dark:bg-neutral-600",onClick:()=>{a(t).then(()=>C.Am.success("Prompt copied to clipboard!"))},children:(0,n.jsx)(o.kd,{className:"text-neutral-400 dark:text-neutral-0"})})})]}),(0,n.jsx)("div",{className:"max-h-[160px] overflow-scroll overflow-x-hidden px-3.5",children:(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:t})})]})},T=e=>{let{title:t,value:a="-",className:i="",isCopyable:r=!1}=e,[,l]=(0,I.m9)();return(0,n.jsxs)("div",{className:(0,u.cn)("flex flex-col gap-1",i),children:[(0,n.jsxs)("h3",{className:"flex items-center justify-start gap-1 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:[t,r&&(0,n.jsx)(b.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)("button",{"aria-label":"Copy to clipboard",type:"button",onClick:()=>{l("".concat(a)).then(()=>C.Am.success("".concat(t," copied to clipboard")))},children:(0,n.jsx)(o.kd,{className:"text-neutral-400 dark:text-neutral-60"})})})]}),(0,n.jsx)("p",{className:"truncate text-sm font-medium text-neutral-900 dark:text-neutral-0",children:a})]})},E=e=>{var t,a;let{collection:i,currentImgIndex:r,getSettingItems:l,setCurrentImgIndex:s}=e,[,c]=(0,I.m9)(),{settings:d}=i,p=i.images[r],u=l(p),m={title:"Negative Prompt",value:d.negative_prompt,isCopyable:(null!==(a=null===(t=d.negative_prompt)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},x=e=>{let{images:t}=i,a=t.findIndex(t=>t.id===e);-1!==a&&s(a)};return(0,n.jsxs)(j,{className:"box-border w-[402px] gap-5 p-0 py-3.5",children:[(0,n.jsx)("h2",{className:"px-3.5 text-sm font-bold text-neutral-900 dark:text-neutral-0",children:"Settings"}),(0,n.jsxs)("div",{className:"flex flex-col gap-[18px]",children:[(0,n.jsx)("div",{className:"grid grid-cols-3 gap-x-3 gap-y-[18px] pl-3.5 pr-1",children:u.map(e=>(0,n.jsx)(T,{...e},e.title))}),"isVariation"in p&&p.isVariation&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-1 flex items-center justify-start pl-3.5 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:"Variated From"}),(0,n.jsxs)("div",{className:"group/og-image relative mt-0 pl-3.5",role:"button",onClick:()=>x(p.originalImageId),onKeyDown:()=>x(p.originalImageId),tabIndex:0,children:[(0,n.jsx)("img",{src:p.originalSrc,alt:"original-variant",className:"h-20 w-20 rounded-[11.8px]"}),(0,n.jsx)("div",{className:"absolute inset-0 left-3.5 flex h-20 w-20 items-center justify-center rounded-[11.8px] bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,n.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})})]})]}),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-1",children:[(0,n.jsxs)("h3",{className:"flex items-center justify-start gap-1 pl-3.5 text-sm font-medium text-neutral-400 dark:text-neutral-60",children:["Negative Prompt",m.isCopyable&&(0,n.jsx)(b.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)("button",{"aria-label":"Copy Negative Prompt",type:"button",onClick:()=>{c("".concat(m.value)).then(()=>C.Am.success("".concat(m.title," copied to clipboard")))},children:(0,n.jsx)(o.kd,{className:"text-neutral-400 dark:text-neutral-60"})})})]}),(0,n.jsx)("div",{className:"max-h-20 overflow-scroll overflow-x-hidden pl-3.5",children:(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:m.isCopyable?m.value:"-"})})]})]})]})},S=e=>{var t;let{collection:a,currentImgIndex:i,handleUpscale:r,handleDeleteImage:l,setCurrentImgIndex:o,closeFullViewModal:s,getSettingItems:c}=e;return(0,n.jsxs)("div",{className:"flex h-full w-[430px] min-w-[430px] flex-col bg-neutral-0 dark:bg-neutral-900",children:[(0,n.jsxs)("div",{className:"mt-12 flex flex-1 flex-col gap-[18px] p-3.5 pt-4",children:[(0,n.jsx)(_,{prompt:null!==(t=a.settings.prompt)&&void 0!==t?t:"-"}),(0,n.jsx)(k,{collection:a,currentImgIndex:i,handleUpscale:r}),(0,n.jsx)(E,{getSettingItems:c,collection:a,currentImgIndex:i,setCurrentImgIndex:o})]}),(0,n.jsx)(w,{handleDeleteImage:l,collection:a,currentImgIndex:i,setCurrentImgIndex:o,closeFullViewModal:s})]})},A={[c.pI.ONE_BY_ONE.value]:{className:"one-by-one"},[c.pI.NINE_BY_SIXTEEN.value]:{className:"nine-by-sixteen"},[c.pI.SIXTEEN_BY_NINE.value]:{className:"sixteen-by-nine"},[c.pI.FOUR_BY_THREE.value]:{className:"four-by-three"},[c.pI.THREE_BY_TWO.value]:{className:"three-by-two"}},z=e=>{let{collection:t,initialImageIndex:a,handleUpscale:i,handleDeleteImage:r,closeFullViewModal:o,getSettingItems:s}=e,[c,d]=(0,l.useState)(a),p=A[t.settings.aspect_ratio];return(0,n.jsxs)("div",{className:"flex h-screen w-screen",children:[(0,n.jsx)(h,{aspectRatio:t.settings.aspect_ratio,images:t.images,className:p.className,onChange:d,currentImgIndex:c}),(0,n.jsx)(S,{getSettingItems:s,closeFullViewModal:o,collection:t,currentImgIndex:c,setCurrentImgIndex:d,handleUpscale:i,handleDeleteImage:r})]})},O=e=>{let{isFullViewOpen:t,...a}=e;return(0,n.jsx)(i.u,{appear:!0,show:t,as:l.Fragment,children:(0,n.jsxs)(r.V,{as:"div",className:"relative z-10",onClose:a.closeFullViewModal,children:[(0,n.jsx)(i.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-md"})}),(0,n.jsxs)("div",{className:"fixed inset-0",children:[(0,n.jsxs)(s.z,{type:"button",variant:"ghost-secondary",size:"icon-xl",className:"absolute right-3.5 top-1.5 z-20 ml-auto text-neutral-900 dark:text-neutral-0",children:[(0,n.jsx)(o.DX,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,n.jsx)("div",{className:"hide-scrollbar flex h-full items-center justify-center overflow-y-auto bg-neutral-30 text-center dark:bg-neutral-800",children:(0,n.jsx)(i.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(r.V.Panel,{children:(0,n.jsx)(z,{...a})})})})]})]})})}},43351:function(e,t,a){"use strict";a.d(t,{q:function(){return c}});var n=a(44750),i=a.n(n),r=a(2265),l=a(60789),o=a(44587);let s=e=>{let{id:t,isVariation:a,isUpscaled:n}=e,i="".concat(t);return n&&(i+="_upscaled"),a&&(i+="_variated"),"".concat(i,".png")},c=e=>{let{id:t,src:a}=e,n=i()(e,"isVariation",!1),c=i()(e,"isUpscaled",!1),d=i()(e,"upscaleSrc","");return{downloadImage:(0,r.useCallback)(async()=>{let e=c?d:a;if(e)try{(0,l.Sv)(e,s({id:t,isUpscaled:c,isVariation:n}))}catch(e){o.Am.error(e.message)}},[t,a,c,d,n])}}},95969:function(e,t,a){"use strict";a.d(t,{X:function(){return d}});var n=a(8186),i=a(44494),r=a(15139),l=a(56691),o=a(60789);let s=async e=>{if(!e)throw Error("No image provided");let t=await (0,r.K$)(e),a={...(0,l.zx)(),image:t};return(0,o.wh)(a)},c=async(e,t)=>{let a=await s(e),{data:n}=await i.p.post(l.TG.UPSCALE,{body:a,headers:(0,l.kw)(t)},{throwOnError:!0});return(0,r.RJ)(n)},d=()=>(0,n.useMutation)(e=>c(e.originalImgSrc,e.isPremium))},29894:function(e,t,a){"use strict";a.d(t,{X:function(){return s}});var n=a(57437),i=a(7216);let r=e=>{let{children:t,className:a,...r}=e;return(0,n.jsx)("div",{className:(0,i.cn)("relative flex h-full flex-col overflow-hidden bg-neutral-20 transition-all duration-500 dark:bg-neutral-800",a),...r,children:t})};r.displayName="CommonToolsLayout";let l=e=>{let{children:t}=e;return(0,n.jsx)("header",{className:"w-full",children:t})};l.displayName="CommonToolsLayoutHeader";let o=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex h-full flex-1 gap-1 overflow-hidden",children:(0,n.jsx)("main",{className:"flex flex-1 overflow-hidden",children:t})})};o.displayName="CommonToolsLayoutBody";let s=Object.assign(r,{Header:l,Body:o})},28881:function(e,t,a){"use strict";a.d(t,{M:function(){return l}});var n=a(22304),i=a(61921),r=a(90348);let l=new i.hE({baseURL:n.v.CANVAS_API_URL,defaultHeadersGenerator:r.A});l.interceptors.response.use(async e=>{if(e.data.errors){var t,a;throw Error((null===(a=e.data.errors)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.message)||"")}return e})},6280:function(e,t,a){"use strict";a.d(t,{q:function(){return l}});var n=a(30248),i=a(46520),r=a(409);let l={num_images:n.z.number().min(1).max(4),prompt:i.Pp.optional(),model:r.SB,style:r.X2.optional(),aspect_ratio:n.z.string(),negative_prompt:i.Pp.optional(),high_res_results:n.z.boolean(),seed:n.z.number().min(0).max(99999999).optional(),cfg:n.z.number().min(1).max(20),tags:n.z.record(n.z.string(),n.z.set(n.z.string()))};n.z.object(l)},65986:function(e,t,a){"use strict";a.d(t,{Ih:function(){return i}});var n=a(28881);a(72324);let i=async(e,t,a,i,r)=>{let l=new FormData;l.append("height",e),l.append("width",t),l.append("size",a),l.append("sizeInBytes",i),l.append("file",r);let{data:o}=await n.M.post("/images",{body:l},{throwOnError:!0});return o}},46116:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var n=a(22020),i=a(36440),r=a(8081);let l=(0,n.Ue)(e=>({activeAITool:null,showToolsSidebar:!1,showLayersSidebar:!1,showToolsModal:!1,designs:[],sortBy:i.R.LAST_EDITED,remixBaseImage:null,isNotSaved:!1,canvasMode:r.DZ.Select,prevProjectId:null,setActiveAITool:t=>e(()=>({activeAITool:t})),setShowToolsSidebar:t=>e(()=>({showToolsSidebar:t})),setShowLayersSidebar:t=>e(()=>({showLayersSidebar:t})),closeAllSidebars:()=>e(()=>({showToolsSidebar:!1,showLayersSidebar:!1})),setShowToolsModal:t=>e(()=>({showToolsModal:t})),setDesigns:t=>e(()=>({designs:t})),updateDesign:t=>e(e=>({designs:e.designs.map(e=>e.id===t.id?t:e)})),renameDesign:(t,a)=>e(e=>({designs:e.designs.map(e=>e.id===t?{...e,title:a}:e)})),setSortBy:t=>e(()=>({sortBy:t})),deleteDesign:t=>e(e=>({designs:e.designs.filter(e=>e.id!==t)})),setRemixBaseImage:t=>e(()=>({remixBaseImage:t})),setIsNotSaved:t=>e(()=>({isNotSaved:t})),setCanvasMode:t=>e(()=>({canvasMode:t})),setPrevProjectId:t=>e(()=>({prevProjectId:t}))}))},48290:function(e,t,a){"use strict";a.d(t,{p:function(){return r}});var n=a(22020),i=a(65249);let r=(0,n.Ue)()((0,i.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:a,imageCroppedFrom:n,...i}=t;return e({persistedImageRemixSetting:i})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null})}),{name:"persist-tool-setting"}))},8081:function(e,t,a){"use strict";var n,i,r,l,o,s;a.d(t,{A2:function(){return n},DZ:function(){return r},n:function(){return i}}),(l=n||(n={})).TextToImage="text-to-image",l.ImageRemix="image-remix",(o=i||(i={})).Saving="saving",o.Saved="saved",o.Error="error",o.Idle="idle",(s=r||(r={})).Pan="pan",s.Select="select",s.GenerativeFill="generative-fill"},5982:function(e,t,a){"use strict";a.d(t,{Qz:function(){return r},YX:function(){return i},q4:function(){return l}});var n=a(98516);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.drawPixelGrids)return;let a=e.getSelectionContext();if(!a)return;a.save();let[i,r,l,o,s,c]=e.viewportTransform;a.transform(i,r,l,o,s,c);let d=e.getViewportTransformBounds(),p=d.height,u=d.width;a.beginPath(),a.lineWidth=1/t,a.strokeStyle="rgba(0, 0, 0, 0.07)";for(let e=0;e<=u;e++){var m=Math.ceil(d.left)+e,x=new n.fabric.Point(m,d.top),g=new n.fabric.Point(m,d.bottom);a.moveTo(x.x,x.y),a.lineTo(g.x,g.y)}for(let e=0;e<=p;e++){var h=Math.ceil(d.top)+e,f=new n.fabric.Point(d.left,h),v=new n.fabric.Point(d.right,h);a.moveTo(f.x,f.y),a.lineTo(v.x,v.y)}a.stroke(),a.restore()}function r(e){return e.angle=e.angle%360||0,e.angle<0&&(e.angle+=360),e.angle}function l(e,t){t.getObjects("artboard").forEach(t=>{e.intersectsWithObject(t)&&t.addChild(e)})}},67223:function(e,t,a){"use strict";a.d(t,{M6:function(){return u},NA:function(){return m},PX:function(){return h},SB:function(){return w},ZO:function(){return d},aW:function(){return x},dO:function(){return v},hl:function(){return p},nU:function(){return g},qP:function(){return f},uq:function(){return b}});var n=a(98516),i=a(41231),r=a(76021),l=a(65986),o=a(15139),s=a(32212),c=a(5982);function d(e){try{if(e)return JSON.parse(JSON.stringify(e));return null}catch(e){return console.error(e),null}}let p=(e,t)=>{let a=r.r[e.type];return new File([e],t||"".concat((0,i.Z)(),".").concat(a),{lastModified:new Date().getTime(),type:e.type})},u=async e=>p(await (0,o.K$)(e)),m=e=>new Promise(t=>{let a=new Image;a.crossOrigin="Anonymous","string"==typeof e&&(a.onload=()=>{t(a)},a.src=e)}),x=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(n=>{t.setSrc(e,()=>{var e;t.updatePhotoCanvas(),t.setCoords(),null===(e=t.canvas)||void 0===e||e.renderAll(),n(!0)},a)})},g=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:-1,y:-1},o=e.viewportTransform.slice(0),d=e.getZoom(),p=-1!==l.x?{x:(-o[4]+l.x)/d,y:(-o[5]+l.y)/d}:{x:(-o[4]+e.width/2)/d,y:(-o[5]+e.height/2)/d};return new Promise(l=>{n.fabric.Photo.fromURL(t,n=>{n.set({src:t,prompt:r,width:n.width,height:n.height,left:p.x,top:p.y,title:(0,s.t)("photo"),aiContainer:i,__drawMode:a}),n.updatePhotoCanvas(),a?e.enterShapeDrawMode(n):(e.add(n),(0,c.q4)(n,e),e.discardActiveObject(),e.setActiveObject(n),e.fire("user:object:added",{target:n})),l(!0)},{crossOrigin:"Anonymous"})})},h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{left:0,top:0};return new Promise(o=>{i(!0),Promise.all([u(t),m(t)]).then(i=>{let[c,d]=i,p=e.viewportTransform.slice(0),u=e.getZoom(),m={x:r.left||(-p[4]+e.width/2)/u,y:r.top||(-p[5]+e.height/2)/u},x=new n.fabric.Photo(d,{src:t,prompt:a,width:d.naturalHeight,height:d.naturalHeight,left:m.x,top:m.y,title:(0,s.t)("photo"),aiContainer:!1});e.add(x),o(!0),(0,l.Ih)(d.naturalHeight.toString(),d.naturalWidth.toString(),c.size.toString(),c.size.toString(),c).then(t=>{let a=t.file;x.src=a,x.setSrc(a,()=>{var t;x.updatePhotoCanvas(),x.setCoords(),null===(t=x.canvas)||void 0===t||t.renderAll(),e.fire("user:object:added",{target:x})})}).catch(()=>{o(!1)})})})},f=e=>!!e&&e instanceof n.fabric.Artboard,v=(e,t)=>{let a=function(e,t){for(e=Math.abs(e),t=Math.abs(t);t;){var a=t;t=e%t,e=a}return e}(e,t);return"".concat((e/a).toFixed(0),":").concat((t/a).toFixed(0))},b=e=>0===e.complexity()&&!(e.fill instanceof n.fabric.Pattern),w=e=>!!(e&&("string"!=typeof e&&"pattern"===e.type||e instanceof n.fabric.Pattern))},32212:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var n=a(60789);let i={photo:"AI Container",group:"Group"},r=e=>{let t=(0,n.EN)(1e6);return"".concat(i[e]," ").concat(t)}},72324:function(e,t,a){"use strict";a.d(t,{u:function(){return i}});var n=a(28881);let i=async(e,t)=>{let{data:a}=await n.M.post("/graphql",{...t,body:{query:e,variables:{}},headers:{"Content-Type":"application/json"}},{throwOnError:!0});return a}}}]);