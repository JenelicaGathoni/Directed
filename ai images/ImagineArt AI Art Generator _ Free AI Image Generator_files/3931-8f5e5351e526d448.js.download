"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3931],{94071:function(e,t,r){r.r(t),r.d(t,{DarkModeToggle:function(){return c}});var n=r(57437),a=r(91774);r(2265);var i=r(74961),l=r(40893),s=r(20386),o=r(58190);let c=e=>{let{variant:t="secondary",size:r="icon-md",...c}=e,d=(0,i.O_)(),{setTheme:u,resolvedTheme:x}=(0,a.F)();return d?(0,n.jsx)(o.z,{size:r,variant:t,...c,onClick:()=>u("light"===x?"dark":"light"),children:"light"===x?(0,n.jsx)(l.k,{}):(0,n.jsx)(s.N,{})}):null}},66360:function(e,t,r){r.d(t,{U:function(){return s}});var n=r(57437),a=r(26579);r(2265);var i=r(7216);let l=(0,r(57742).j)("relative flex cursor-pointer touch-none select-none items-center",{variants:{type:{compact:"compact h-[14px]",broad:"broad h-4"},variant:{new:"new",old:"old"}},defaultVariants:{type:"compact",variant:"old"}}),s=e=>{let{min:t,max:r,step:s,name:o,value:c,className:d,thumbClassName:u,trackClassName:x,trackRangeClassName:m,onChange:p,type:h,variant:g}=e;return(0,n.jsxs)(a.fC,{min:t,max:r,step:s,name:o,value:[c],onValueChange:e=>p&&p(e[0]),className:(0,i.cn)(l({type:h,variant:g}),d),children:[(0,n.jsx)(a.fQ,{className:(0,i.cn)("relative h-0.5 grow rounded-full bg-neutral-20 transition-colors duration-500 dark:bg-neutral-600 [.broad_&]:h-3 [.new_&]:bg-neutral-30 dark:[.new_&]:bg-neutral-700",x),children:(0,n.jsx)(a.e6,{className:(0,i.cn)("absolute h-full rounded-full bg-primary-500 transition-colors duration-500 dark:bg-primary-400",m)})}),(0,n.jsx)(a.bU,{"aria-label":"Volume",className:(0,i.cn)("block h-3 w-3 rounded-full bg-primary-500 transition-colors duration-500 focus:outline-none dark:bg-primary-400 [.broad_&]:h-4 [.broad_&]:w-4 [.new_&]:border-2 [.new_&]:border-primary-700 [.new_&]:bg-neutral-0 dark:[.new_&]:border-primary-200",u)})]})}},99670:function(e,t,r){r.d(t,{$:function(){return a}});var n=r(57437);r(2265);let a=e=>{let{className:t=""}=e;return(0,n.jsx)("div",{className:"my-auto inline-block animate-spin self-center rounded-full border-2 border-solid border-current border-r-transparent ".concat(t),role:"status"})}},37398:function(e,t,r){r.d(t,{z:function(){return l}});var n=r(57437);r(2265);var a=r(12246),i=r(96573);let l=e=>{let{title:t,hint:r,note:l}=e;return(0,n.jsxs)("div",{className:"flex h-12 items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:t}),(0,n.jsx)(i.WithGenericTooltip,{content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:r}),l&&(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-semibold",children:"Note: "}),l]})]}),genericTooltipContentProps:{side:"bottom",className:"mr-4"},variant:"hint",children:(0,n.jsx)("div",{className:"grid h-4 w-4 cursor-pointer place-items-center rounded bg-neutral-20 transition-all duration-500 dark:bg-neutral-800",children:(0,n.jsx)(a._d,{className:"h-3 w-3 text-neutral-900 transition-all duration-500 dark:text-neutral-0"})})})]})}},4500:function(e,t,r){r.d(t,{CW:function(){return f},Nd:function(){return g},Oe:function(){return u},PN:function(){return p},Pr:function(){return a},TOOLS_SETTINGS:function(){return o},Yx:function(){return x},bk:function(){return d},ki:function(){return h},o1:function(){return m},pI:function(){return c}});var n,a,i=r(12246),l=r(31975),s=r(65052);(n=a||(a={})).ONE_BY_ONE="ONE_BY_ONE",n.THREE_BY_TWO="THREE_BY_TWO",n.FOUR_BY_THREE="FOUR_BY_THREE",n.NINE_BY_SIXTEEN="NINE_BY_SIXTEEN",n.SIXTEEN_BY_NINE="SIXTEEN_BY_NINE";let o={NUM_OF_IMAGES:{content:[1,2,3,4],hint:"4 is selected by default. Number of Images determines how many images will be generated.",title:"Number of Images"},ASPECT_RATIO:{content:{ONE_BY_ONE:{value:"1:1",isPremium:!1,eventId:s.i.ONE_TO_ONE_BTN,imageRemixEventId:s.i.ONE_TO_ONE_BTN_IMAGE_REMIX,Icon:i.LB},NINE_BY_SIXTEEN:{value:"9:16",isPremium:!0,eventId:s.i.NINE_TO_SIXTEEN_BTN,imageRemixEventId:s.i.NINE_TO_SIXTEEN_BTN_IMAGE_REMIX,Icon:i.Le},SIXTEEN_BY_NINE:{value:"16:9",isPremium:!0,eventId:s.i.SIXTEEN_TO_NINE_BTN,imageRemixEventId:s.i.SIXTEEN_TO_NINE_BTN_IMAGE_REMIX,Icon:i.sx},FOUR_BY_THREE:{value:"4:3",isPremium:!0,eventId:s.i.FOUR_TO_THREE_BTN,imageRemixEventId:s.i.FOUR_TO_THREE_BTN_IMAGE_REMIX,Icon:i.Sg},THREE_BY_TWO:{value:"3:2",isPremium:!0,eventId:s.i.THREE_TO_TWO_BTN,imageRemixEventId:s.i.THREE_TO_TWO_BTN_IMAGE_REMIX,Icon:i.DZ}},title:"Aspect Ratio",hint:"1:1 ratio is selected by default. Aspect ratio's determine the dimensions of the generated result.",note:"Different ratios may affect the content of the generated images."},HIGH_RES_RESULTS:{title:"High Resolution",hint:"This function increases base resolution of 512*512 to 768*768. Higher resolution outputs can prod- uce better results with more details.",disabledHint:"This model tends to work better without high resolution",isPremium:!0},ART_STYLES:{title:"Art Styles",hint:"Art styles allow users to generate images using a specific style. These are predefined styles made by our team."},MODELS:{title:"Models",hint:"AI art models determine what kind of images the AI art generator can produce, model can’t have a specific style, aesthetic, or understanding that comes from the art style"},CFG_SCALE:{title:"CFG Scale",hint:"CFG scale adjusts how much the image will be like your prompt. Higher values keep your image closer to your prompt.",note:"Higher values can reduce the output quality, giving less room to the AI for being creative."},STEP_SCALE:{title:"Step Scale",hint:"Higher step value results in higher output quality but will take a longer time to generate results.",disabledHint:"This model tends to work better without step scale"},SEED_PROMPT:{title:"Seed",hint:"Different numbers result in new variations of your output image."},NEGATIVE_PROMPT:{title:"Negative Prompt",hint:"Negative prompt tells the AI model what you don't want to see in the generated images. When specified, it guides the generation process not to include things in the image according to the given text.",placeholder:"Enter text here..."},IMAGE_STRENGTH:{title:"Image Strength",hint:"Image strength determines how much the generated image will be close to your original image. Higher values keep your image closer to the original image."},CONTROL_MODES:{title:"Control Modes",hint:"The method/process that is used to guide image generation"}},c=o.ASPECT_RATIO.content;c.ONE_BY_ONE.value,c.NINE_BY_SIXTEEN.value,c.SIXTEEN_BY_NINE.value,c.FOUR_BY_THREE.value,c.THREE_BY_TWO.value;let d={[c.ONE_BY_ONE.value]:{placeholderSize:"w-[512px] h-[512px]",aspectRatio:"aspect-1-by-1",maxH:"max-h-[500px]",thumbnailSize:"max-h-20 w-20"},[c.NINE_BY_SIXTEEN.value]:{placeholderSize:"w-[368px] h-[648px]",aspectRatio:"aspect-9-by-16",maxH:"max-h-[710px]",thumbnailSize:"max-h-20 w-20"},[c.SIXTEEN_BY_NINE.value]:{placeholderSize:"w-[648px] h-[368px]",aspectRatio:"aspect-16-by-9",maxH:"max-h-[412px]",thumbnailSize:"h-20 max-w-[80px]"},[c.FOUR_BY_THREE.value]:{placeholderSize:"w-[512px] h-[384px]",aspectRatio:"aspect-4-by-3",maxH:"max-h-[448px]",thumbnailSize:"h-20 max-w-[80px]"},[c.THREE_BY_TWO.value]:{placeholderSize:"w-[648px] h-[432px]",aspectRatio:"aspect-3-by-2",maxH:"max-h-[427px]",thumbnailSize:"h-20 max-w-[80px]"}},u={[c.ONE_BY_ONE.value]:{placeholderSize:"w-[343px] h-[343px]",aspectRatio:"aspect-1-by-1",maxH:"max-h-[343px]",thumbnailSize:"max-h-20 w-20"},[c.NINE_BY_SIXTEEN.value]:{placeholderSize:"w-[194px] h-[343px]",aspectRatio:"aspect-9-by-16",maxH:"max-h-[343px]",thumbnailSize:"max-h-20 w-20"},[c.SIXTEEN_BY_NINE.value]:{placeholderSize:"w-[524px] h-[295px]",aspectRatio:"aspect-16-by-9",maxH:"max-h-[295px]",thumbnailSize:"h-20 max-w-[80px]"},[c.FOUR_BY_THREE.value]:{placeholderSize:"w-[457px] h-[343px]",aspectRatio:"aspect-4-by-3",maxH:"max-h-[343px]",thumbnailSize:"h-20 max-w-[80px]"},[c.THREE_BY_TWO.value]:{placeholderSize:"w-[514px] h-[343px]",aspectRatio:"aspect-3-by-2",maxH:"max-h-[343px]",thumbnailSize:"h-20 max-w-[80px]"}},x={[c.ONE_BY_ONE.value]:{getClassnames:e=>{switch(e){case 1:return"grid-cols-1";case 2:case 4:return"grid-cols-2";case 3:case 5:case 6:return"grid-cols-3";default:return"grid-cols-4"}}},[c.NINE_BY_SIXTEEN.value]:{getClassnames:e=>{switch(e){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:return"grid-cols-3";default:return"grid-cols-4"}}},[c.SIXTEEN_BY_NINE.value]:{getClassnames:e=>1===e?"grid-cols-1":"grid-cols-2"},[c.FOUR_BY_THREE.value]:{getClassnames:e=>{switch(e){case 1:return"grid-cols-1";case 2:return"grid-cols-2";default:return"grid-cols-3"}}},[c.THREE_BY_TWO.value]:{getClassnames:e=>{switch(e){case 1:return"grid-cols-1";case 2:return"grid-cols-2";default:return"grid-cols-3"}}}},m={num_images:4,aspect_ratio:"1:1",prompt:"",cfg:7.5,negative_prompt:"",seed:void 0,high_res_results:!1,tags:{}},p={...m},h={strength:.5,image:null,imageCroppedFrom:null,...m},g={[l.l.PROMPT]:"",[l.l.MODEL_ID]:126,[l.l.NUM_IMAGES]:2,[l.l.ASPECT_RATIO]:"16:9",[l.l.CFG]:20,[l.l.SEED]:void 0,[l.l.VIDEO_MODAL_ID]:198,[l.l.UPLOADED_IMAGE]:null,[l.l.GENERATED_IMAGE]:null,[l.l.UPLOADED_IMAGE_CROPPED_FORM]:null},f={originalImage:"",prompt:"",negativePrompt:"",creativity:.35,resemblance:1,hdr:0}},86088:function(e,t,r){r.r(t),r.d(t,{ToolsProvider:function(){return c},useToolsContext:function(){return d}});var n=r(57437),a=r(2265),i=r(79160),l=r(60789);let s={activeTool:i.X.FromText,setActiveTool:()=>{},isRenderedInsideCanvas:!1,modalContainer:(0,l.Ep)().isBrowser?document.body:null,setModalContainer:()=>{}},o=(0,a.createContext)(s),c=e=>{let{children:t}=e,[r,l]=(0,a.useState)(s.activeTool),[c,d]=(0,a.useState)(s.modalContainer),u=(0,a.useMemo)(()=>({activeTool:r,setActiveTool:l,isRenderedInsideCanvas:r===i.X.Canvas,modalContainer:c,setModalContainer:d}),[r,l,c,d]);return(0,n.jsx)(o.Provider,{value:u,children:t})},d=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useToolsContext must be used within a ToolsProvider");return e}},71004:function(e,t,r){r.d(t,{L:function(){return C}});var n=r(57437),a=r(55800),i=r(58424),l=r(94599),s=r(60750),o=r(96573),c=r(8792),d=r(37263),u=r(91594),x=r(12246),m=r(9177),p=r(58190),h=r(43417),g=r(89539),f=r.n(g),v=r(65939),N=r.n(v),_=r(42366),b=r.n(_),E=r(2265);f().extend(N()),f().extend(b());let j=()=>{let[e,t]=(0,E.useState)("--h --m --s");return(0,E.useEffect)(()=>{let e=setInterval(()=>{let e=f()().utc(),r=e.endOf("day").utc().add(1,"day").startOf("day").diff(e);t(f().duration(r).format("H[h] m[m] s[s]"))},1e3);return()=>clearInterval(e)},[]),(0,n.jsx)("span",{className:"w-[90px] text-start",children:e})},y=e=>{var t,r;let i,{children:g}=e,f=(0,l.useUserStoreContext)()(e=>e.user),v=(0,l.useUserStoreContext)()(e=>e.subscription),{isSubscriptionActive:N}=(0,s.L)(v),_=(0,a.j)(),b=null!==(r=null===(t=_.data)||void 0===t?void 0:t.total)&&void 0!==r?r:0;return i=!_.isLoading&&0===b&&void 0,(0,n.jsx)(o.WithGenericTooltip,{content:(0,n.jsxs)("div",{className:"flex flex-col gap-3 text-center",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-0.5 text-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-neutral-0 transition-colors duration-500 dark:text-neutral-900",children:"Not enough tokens"}),(0,n.jsx)("span",{className:"text-xs font-normal leading-[18px] text-neutral-40 transition-colors duration-500 dark:text-neutral-600",children:N?"You don’t have enough tokens to perform generations. Top up your existing tokens to continue.":"You don’t have enough tokens to perform generations. Tokens replenish every 24 hours."})]}),!N&&(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,n.jsx)(x.wZ,{className:"h-[18px] w-[18px] stroke-current stroke-[1.5]",hasGradient:!0}),(0,n.jsx)(j,{})]}),N?(0,n.jsx)(h.BuyMoreTokensModalCTA,{onClick:()=>{var e;return(0,m.iC)(u.r.NOT_ENOUGH_TOKENS,null!==(e=null==f?void 0:f.email)&&void 0!==e?e:"")},className:"w-full",size:"sm",children:"Buy tokens"}):(0,n.jsx)(p.z,{className:"w-full",asChild:!0,size:"sm",children:(0,n.jsxs)(c.default,{href:d.H7.SUBSCRIPTION,children:[(0,n.jsx)(x.CE,{className:"mr-2 h-5 w-5"}),(0,n.jsx)("span",{children:"Upgrade Plan"})]})})]}),variant:"hint",genericTooltipContentProps:{align:"end",sideOffset:6,className:"transition-colors duration-500 p-4 rounded-xl max-w-[260px]"},genericTooltipProps:{disableHoverableContent:!1,open:i},children:g})};var w=r(78783);let I=E.forwardRef((e,t)=>{let{tokenCount:r,...a}=e;return(0,n.jsx)("div",{className:"flex h-fit w-fit flex-col",...a,ref:t,children:(0,n.jsxs)("div",{className:"flex h-8 items-center gap-0.5 overflow-hidden rounded-[10px] bg-neutral-20 px-2 py-1 text-sm font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-800 dark:text-neutral-0",children:[(0,n.jsx)("span",{children:w.t.format(r)}),(0,n.jsx)(x.Ss,{className:"h-[15px] w-[15px]"})]})})});I.displayName="TokenContent";let T=e=>{let{children:t}=e;return(0,n.jsx)(o.WithGenericTooltip,{content:(0,n.jsxs)("div",{className:"flex flex-col gap-3 text-center",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-0.5 text-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-neutral-0 transition-colors duration-500 dark:text-neutral-900",children:"Tokens Replenishment"}),(0,n.jsx)("span",{className:"text-xs font-normal leading-[18px] text-neutral-40 transition-colors duration-500 dark:text-neutral-600",children:"Tokens replenish every 24 hours."})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,n.jsx)(x.wZ,{className:"h-[18px] w-[18px] stroke-current stroke-[1.5]",hasGradient:!0}),(0,n.jsx)(j,{})]}),(0,n.jsx)(p.z,{className:"w-full",asChild:!0,size:"sm",children:(0,n.jsxs)(c.default,{href:d.H7.SUBSCRIPTION,children:[(0,n.jsx)(x.CE,{className:"mr-2 h-5 w-5"}),(0,n.jsx)("span",{children:"Upgrade Plan"})]})})]}),variant:"hint",genericTooltipContentProps:{align:"end",sideOffset:6,className:"transition-colors duration-500 p-4 rounded-xl max-w-[260px]"},genericTooltipProps:{disableHoverableContent:!1},children:t})},S=()=>(0,n.jsx)(o.WithGenericTooltip,{content:"Login to see your tokens",children:(0,n.jsx)(I,{tokenCount:0})}),O=()=>{var e,t,r,c,d;let u=(0,a.j)(),x=(0,l.useUserStoreContext)()(e=>e.subscription),{data:m}=(0,i.OJ)(),{isSubscriptionActive:p}=(0,s.L)(x),h=null!==(c=null==m?void 0:null===(t=m.weekly)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.maxQuantity)&&void 0!==c?c:50,g=null!==(d=null===(r=u.data)||void 0===r?void 0:r.total)&&void 0!==d?d:0;return!p&&g<=h&&g>0?(0,n.jsx)(T,{children:(0,n.jsx)(I,{tokenCount:g})}):(0,n.jsx)("div",{children:g>999?(0,n.jsx)(o.WithGenericTooltip,{content:g,children:(0,n.jsx)(I,{tokenCount:g})}):(0,n.jsx)(y,{children:(0,n.jsx)(I,{tokenCount:g})})})},C=()=>(0,l.useUserStoreContext)()(e=>e.user)?(0,n.jsx)(O,{}):(0,n.jsx)(S,{})},92986:function(e,t,r){r.d(t,{d:function(){return a},h:function(){return n}});let n=e=>e(e=>{let{collections:t}=e,r=e.selectedCollectionId;if(!r)return;let n=t.findIndex(e=>e.id===r);return t[n]}),a=e=>e(e=>{let{collections:t}=e,r=e.selectedCollectionId;if(!r)return;let n=t.findIndex(e=>e.id===r),{images:a}=t[n],i=e.selectedImageId;if(!i)return;let l=a.findIndex(e=>e.id===i);return a[l]})},46968:function(e,t,r){r.d(t,{y:function(){return a}});var n=r(16003);let a=e=>{let t=(0,n.Td)()(e=>e.featureFlags)[e];return{isEnabled:!0==!!t,value:t}}},79121:function(e,t,r){r.d(t,{d:function(){return a}});var n=r(2265);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,r]=(0,n.useState)(e);return{isModalOpen:t,closeModal:()=>r(!1),openModal:()=>r(!0),setIsModalOpen:r,toggleModal:()=>r(e=>!e)}}},58424:function(e,t,r){r.d(t,{jk:function(){return M},OB:function(){return k},mW:function(){return P},wN:function(){return z},sm:function(){return R},OJ:function(){return O},sb:function(){return C},wp:function(){return U},YX:function(){return A}});var n,a,i=r(9988),l=r(8186),s=r(78604),o=r(98955),c=r(90466),d=r(22304),u=r(61921),x=r(90348);let m=new u.hE({baseURL:d.v.PAYMENT_API_URL,defaultHeadersGenerator:x.A}),p="/stripe/subscription",h=async e=>{let{data:t}=await m.get("".concat(p,"/recurring"),null==e?void 0:e.requestOptions,{throwOnError:!0});return t},g=async()=>{let{data:e}=await m.get("".concat(p,"/one_time"),null,{throwOnError:!0});return{result:e.result.sort((e,t)=>e.StripePrice[0].minQuantity-t.StripePrice[0].minQuantity)}},f=async e=>{let{data:t}=await m.post("".concat(p,"/update/next-period"),{body:e},{throwOnError:!0});return t},v=async e=>{let{data:t}=await m.post("".concat(p,"/update/immediately"),{body:e},{throwOnError:!0});return t},N=async e=>{let{data:t}=await m.get("".concat(p,"/proration/").concat(e),void 0,{throwOnError:!0});return t},_=async e=>{let{data:t}=await m.post("".concat(p,"/session-expire"),{body:{checkoutSessionId:e}},{throwOnError:!0});return t},b=async e=>{var t,r;let n=null!==(t=o.Z.get(c.Y.CAMPAIGN))&&void 0!==t?t:null,a=null!==(r=o.Z.get(c.Y.TERM))&&void 0!==r?r:null,{data:i}=await m.post("".concat(p,"/checkout"),{params:{priceId:e,quantity:encodeURIComponent(1),...n?{campaign:encodeURIComponent(n)}:{},...a?{term:encodeURIComponent(a)}:{}}},{throwOnError:!0});return i},E=async e=>{let{data:t}=await m.post("".concat(p,"/checkout/top-up"),{params:{priceId:e,quantity:encodeURIComponent(1)}},{throwOnError:!0});return t},j=async()=>{let{data:e}=await m.post("".concat(p,"/billing-portal"),null,{throwOnError:!0});return e};var y=r(94599),w=r(69919);(n=a||(a={})).SUBSCRIPTION_PRODUCT="SubscriptionProduct",n.CALCULATE_PRORATION="CalculateProration",n.TOP_UPS="TopUps";let I={[w.Sz.STANDARD]:{heading:"What’s included",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!1,"Early Access to new features":!1}},[w.Sz.PREMIUM]:{heading:"All Professional features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!0}},[w.Sz.PROFESSIONAL]:{heading:"All Standard features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!1}}},T=[w.Sz.STANDARD,w.Sz.PREMIUM,w.Sz.PROFESSIONAL],S={[w.Sz.STANDARD]:"For newcomers exploring, with limited features and image generation.",[w.Sz.PREMIUM]:"Seamless Android & Web access, expanded capabilities.",[w.Sz.PROFESSIONAL]:"Serious users for personal/commercial images."},O=()=>(0,i.useQuery)([a.SUBSCRIPTION_PRODUCT],async()=>{let e=(await h()).result.flatMap(e=>e.StripePrice.map(t=>({id:t.id,isPopular:e.name===w.Sz.PREMIUM,billingInterval:t.billingInterval,name:e.name,stripePriceId:t.stripePriceId,price:t.price,priceType:t.priceType,currency:t.currency,offering:I[e.name],description:S[e.name],maxQuantity:t.maxQuantity,minQuantity:t.minQuantity,priceDetails:t.priceDetails}))),t=(0,s.vM)(e,"billingInterval");return(0,s.Xc)(t,e=>(0,s.MR)(e,e=>T.indexOf(e.name)))},{staleTime:36e5}),C=()=>{let e=(0,y.useUserStoreContext)()(e=>e.user);return(0,i.useQuery)([a.TOP_UPS],g,{enabled:!!e,staleTime:36e5})},k=()=>(0,l.useMutation)(f),R=()=>(0,l.useMutation)(_),A=()=>(0,l.useMutation)(v),M=e=>(0,i.useQuery)([a.CALCULATE_PRORATION,e],e=>N(e.queryKey[1]),{enabled:!!e}),P=()=>(0,l.useMutation)(b),z=()=>(0,l.useMutation)(E),U=()=>(0,l.useMutation)(j)},43650:function(e,t,r){r.d(t,{l:function(){return n},p:function(){return a}});let n=(e,t)=>{var r;return t&&null!==(r=e.style_id[t.model_id])&&void 0!==r?r:e.style_id._},a=(e,t,r)=>(void 0===r.hdr_toggle||r.hdr_toggle)&&t?e.high_res_results["1"]:0},93148:function(e,t,r){r.d(t,{Dd:function(){return x},Jh:function(){return N},PQ:function(){return m},R_:function(){return u},eH:function(){return d},wQ:function(){return f},xH:function(){return v}});var n=r(57437),a=r(2072),i=r(57742),l=r(2265),s=r(86713),o=r(7216),c=r(51261);let d=a.fC,u=a.ZA,x=a.B4,m=l.forwardRef((e,t)=>{let{className:r,lightVariant:i,darkVariant:l,size:d,children:u,...x}=e;return(0,n.jsxs)(a.xz,{ref:t,className:(0,o.cn)("popover-trigger-base group",(0,c.j)({className:r,lightVariant:i,darkVariant:l,size:d})),...x,children:[u,(0,n.jsx)(a.JO,{asChild:!0,children:(0,n.jsx)(s.XC,{className:"h-5 w-5 rotate-90 transform stroke-[1.5] text-neutral-400 transition-all duration-500 group-data-[state=open]:-rotate-90 dark:text-neutral-40 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"})})]})});m.displayName=a.xz.displayName;let p=l.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,n.jsx)(s.g8,{className:"h-4 w-4 stroke-[1.5]"})})});p.displayName=a.u_.displayName;let h=l.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,n.jsx)(s.v4,{className:"h-4 w-4 stroke-[1.5]"})})});h.displayName=a.$G.displayName;let g=(0,i.j)("popover-content-base",{variants:{size:{sm:"sm",md:"md"}},defaultVariants:{size:"md"}}),f=l.forwardRef((e,t)=>{let{className:r,size:i,children:l,position:s="popper",...c}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsxs)(a.VY,{ref:t,className:g({className:(0,o.cn)(r,"popper"===s&&"rounded-lg border border-neutral-30 bg-neutral-0 text-neutral-900 data-[side=bottom]:translate-y-2.5 data-[side=left]:-translate-x-2.5  data-[side=right]:translate-x-2.5 data-[side=top]:-translate-y-2.5 dark:border-neutral-600 dark:bg-neutral-700 dark:text-neutral-0"),size:i}),position:s,...c,children:[(0,n.jsx)(p,{}),(0,n.jsx)(a.l_,{className:(0,o.cn)("popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,n.jsx)(h,{})]})})});f.displayName=a.VY.displayName,l.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r),...i})}).displayName=a.__.displayName;let v=l.forwardRef((e,t)=>{let{className:r,children:i,...l}=e;return(0,n.jsxs)(a.ck,{ref:t,className:(0,o.cn)("flex w-full cursor-pointer select-none items-center justify-between px-3.5 py-2.5 text-sm outline-none transition-all duration-500 hover:bg-neutral-20 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:hover:bg-neutral-600 dark:data-[disabled]:opacity-30 [.sm_&]:px-[7px] [.sm_&]:py-2.5 [.sm_&]:text-xs",r),...l,children:[(0,n.jsx)(a.eT,{children:i}),(0,n.jsx)(a.wU,{asChild:!0,children:(0,n.jsx)("span",{className:"flex h-5 w-5 items-center justify-center [.sm_&]:h-[18px] [.sm_&]:w-[18px]",children:(0,n.jsx)(s.Ye,{className:"h-5 w-5 stroke-[1.5] text-primary-700 transition-all duration-500 dark:text-neutral-0 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"})})})]})});v.displayName=a.ck.displayName;let N=l.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,o.cn)("m-0 h-px bg-neutral-40 dark:bg-neutral-600",r),...i})});N.displayName=a.Z0.displayName},38362:function(e,t,r){r.d(t,{L:function(){return o}});var n=r(57437),a=r(94845),i=r(57742),l=r(2265);let s=(0,i.j)("data-[state=unchecked]:bg-input peer inline-flex shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent bg-neutral-60 transition-colors focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:disabled:opacity-30 data-[state=checked]:bg-primary-500 dark:bg-neutral-600 dark:data-[state=checked]:bg-primary-400",{variants:{size:{sm:"sm h-[15px] w-[26px]",md:"md h-[22px] w-10"}},defaultVariants:{size:"md"}}),o=l.forwardRef((e,t)=>{let{className:r,size:i,...l}=e;return(0,n.jsx)(a.fC,{className:s({className:r,size:i}),...l,ref:t,children:(0,n.jsx)(a.bU,{className:"pointer-events-none block h-[18px] w-[18px] rounded-full bg-neutral-0 ring-0 transition-transform data-[state=checked]:translate-x-[18px] data-[state=unchecked]:translate-x-0 [.sm_&]:h-[11px] [.sm_&]:w-[11px] [.sm_&]:data-[state=checked]:translate-x-[11px]"})})});o.displayName=a.fC.displayName},2692:function(e,t,r){r.d(t,{L:function(){return o}});var n=r(57437);r(2265);var a=r(7216);let i=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("flex items-center",r),children:t})},l=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("absolute left-1/2 -ml-[2px] flex w-fit -translate-x-1/2 items-center",r),children:t})},s=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("flex items-center",r),children:t})};i.displayName="NavbarStart",l.displayName="NavbarCenter",s.displayName="NavbarEnd";let o=Object.assign(e=>{let{children:t,className:r}=e;return(0,n.jsx)("nav",{className:(0,a.cn)("relative grid h-12 max-h-12 min-h-12 place-items-center border-b border-neutral-20 bg-neutral-0 pl-2 pr-3 transition-all duration-500 dark:border-neutral-800 dark:bg-neutral-900",r),children:(0,n.jsx)("div",{className:"flex w-full flex-wrap items-center justify-between",children:t})})},{Start:i,Center:l,End:s})},30023:function(e,t,r){r.d(t,{K:function(){return u}});var n=r(57437);r(2265);var a=r(94071),i=r(48568),l=r(43417),s=r(71004),o=r(12246),c=r(58190);let d=e=>{let{onClick:t=()=>{},disabled:r=!1,isLocked:a=!1}=e;return(0,n.jsxs)(c.z,{type:"button",variant:"secondary",size:"xs",disabled:r,onClick:t,children:["Export All",a&&(0,n.jsx)("div",{className:"absolute right-0.5 top-0.5 z-10 -translate-y-1/2 translate-x-1/2 transform rounded-full bg-primary-50 p-0.5 transition-all duration-500 dark:text-neutral-0",children:(0,n.jsx)(o.Uj,{className:"text-primary-500 transition-all duration-500 dark:text-neutral-900"})})]})},u=e=>{let{exportAllImagesHandler:t,isExportAllDisabled:r=!0,isSubscriptionActive:o,showDarkModeToggle:c=!0,ExportButtonComponent:u=d,isLocked:x}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(a.DarkModeToggle,{size:"icon-sm"})}),(0,n.jsx)(u,{onClick:t,disabled:r,isLocked:x}),(0,n.jsx)(s.L,{}),o?(0,n.jsx)(l.BuyMoreTokensModalCTA,{variant:"secondary-color",size:"xs",children:"Buy tokens"}):(0,n.jsx)(i.d,{size:"xs",variant:"secondary-color",children:"Upgrade"})]})}},2908:function(e,t,r){r.d(t,{N:function(){return v},T:function(){return f}});var n=r(57437),a=r(47907),i=r(82670),l=r(5693),s=r(65052),o=r(37263),c=r(4500),d=r(86088),u=r(12246),x=r(32340),m=r(11106),p=r(93148);let{ASPECT_RATIO:h}=c.TOOLS_SETTINGS,g=Object.values(h.content),f=e=>{let{aspectRatio:t,isSubscriptionActive:r}=e,{Icon:a,value:i,isPremium:l}=t,s=(0,m.E)(l,r);return(0,n.jsxs)(p.xH,{value:i,className:"relative",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)(a,{className:"h-5 w-5 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"}),i]}),s&&(0,n.jsx)(u.Uj,{className:"absolute inset-y-0 right-[18px] m-auto my-auto h-3 w-3 text-primary-700 transition-all duration-500 dark:text-neutral-0 [.sm_&]:right-[10px]"})]},i)},v=e=>{let{controllerArgs:t,isSubscriptionActive:r,isEnabled:c=!0}=e,{field:u}=(0,i.bc)(t),{activeTool:h}=(0,d.useToolsContext)(),v=(0,a.useRouter)(),N=()=>{v.push(o.H7.SUBSCRIPTION)};return(0,n.jsxs)(p.eH,{value:u.value,disabled:!c,onValueChange:e=>{let t=g.find(t=>t.value===e);if((0,m.E)(t.isPremium,r)){(0,l.j)(N);return}x.c.triggerEventUsingElementId(t.eventId,void 0,{[s.L.TOOL_USED]:h}),u.onChange(e)},children:[(0,n.jsx)(p.PQ,{size:"sm",children:(0,n.jsx)(p.Dd,{})}),(0,n.jsx)(p.wQ,{size:"sm",children:g.map(e=>(0,n.jsx)(f,{aspectRatio:e,isSubscriptionActive:r},e.value))})]})}},81461:function(e,t,r){r.d(t,{RM:function(){return eo},oM:function(){return eu},f0:function(){return eh},pC:function(){return P},ls:function(){return eE},yM:function(){return ew},ip:function(){return eT},kk:function(){return eO},K0:function(){return eR},Ou:function(){return eL},hI:function(){return W},Rp:function(){return Q},H7:function(){return eG}});var n=r(57437),a=r(21101),i=r.n(a),l=r(47907),s=r(5693),o=r(65052),c=r(37263),d=r(86088),u=r(32340),x=r(60789),m=r(15139),p=r(11106);let h=e=>{let{isSubscriptionActive:t,selectedCollection:r}=e,n=(0,l.useRouter)(),{activeTool:a}=(0,d.useToolsContext)(),h=()=>{n.push(c.H7.SUBSCRIPTION)},g=(0,p.E)(!1,t);return{exportAllImagesHandler:async()=>{if(g){(0,s.j)(h);return}if(!r)return;let e=new(i());(await Promise.all(r.images.map(e=>(0,m.WW)(e.src).then(e=>e.substring(22))))).forEach((t,n)=>{e.file("".concat(r.images[n].id,".png"),t,{base64:!0})}),e.generateAsync({type:"blob"}).then(e=>{(0,x.Sv)((0,m.RJ)(e),"".concat(null==r?void 0:r.id,".zip"))}),u.c.triggerEventUsingElementId(o.i.EXPORT_ALL_BTN,void 0,{[o.L.TOOL_USED]:a})}}};var g=r(8792),f=r(12246),v=r(94599),N=r(58190);let _=()=>{let e=(0,v.useUserStoreContext)()(e=>e.user);return(0,n.jsx)(N.z,{variant:"secondary",size:"icon-sm",asChild:!0,children:(0,n.jsx)(g.default,{href:null===e?c.H7.AUTH:c.H7.DASHBOARD,onClick:()=>{u.c.triggerEventUsingElementId(o.i.BACK_BTN_ID)},children:(0,n.jsx)(f.OE,{className:"h-[18px] w-[18px] stroke-[1.5]"})})})};var b=r(2692),E=r(30023),j=r(2265),y=r(91594),w=r(46968),I=r(74961),T=r(9177),S=r(96573),O=r(7216),C=r(5207);let k=e=>{let{open:t,title:r,onNewFeatureHintClose:a,children:i}=e;return(0,n.jsxs)(C.A6,{open:t,children:[(0,n.jsxs)(C.mu,{className:"relative",children:[i,(0,n.jsx)("div",{className:"dark pointer-events-none absolute right-3 top-0",children:(0,n.jsxs)("div",{className:"relative flex w-1 flex-col items-center px-1 pb-1",children:[(0,n.jsx)("div",{className:"absolute -left-3 top-3 flex h-8 w-8 flex-col items-center rounded-[100px] bg-primary-500 bg-opacity-[0.15] py-2",children:(0,n.jsx)("div",{className:"flex h-4 w-4 shrink-0 flex-col items-center justify-center rounded-[100px] bg-primary-500 bg-opacity-[0.15] py-1",children:(0,n.jsx)("div",{className:"h-1 w-1 shrink-0 overflow-hidden rounded-[100px] bg-neutral-20 transition-all duration-500 dark:bg-neutral-700"})})}),(0,n.jsx)("div",{className:"z-10 mt-7 h-11 w-px shrink-0 overflow-hidden bg-neutral-20 transition-all duration-500 dark:bg-neutral-700"})]})})]}),(0,n.jsxs)(C.nE,{className:"dark h-[84px] w-[290px] border-none bg-neutral-700 p-3 pl-[18px] shadow-none dark:border-none dark:bg-neutral-700",align:"end",alignOffset:-40,sideOffset:40,children:[(0,n.jsxs)("button",{type:"button",className:"absolute right-3 top-3 outline-none",onClick:a,children:[(0,n.jsx)(f.DX,{className:"h-[18px] w-[18px] text-neutral-0 transition-all duration-500"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,n.jsxs)("div",{className:"flex max-w-[174px] flex-col",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:"✨ New feature unlocked"}),(0,n.jsx)("span",{className:"text-[13px] text-neutral-600 transition-all duration-500 dark:text-neutral-40",children:"Use curated prompts to get your creative juices flowing!"})]})]})]},r)},R=(e,t)=>!(!t||sessionStorage.getItem("seen-".concat(e))),A=e=>{let{Icon:t,eventId:r,title:a,to:i,sibId:s,isNewFeature:o=!1}=e,c=(0,v.useUserStoreContext)()(e=>e.user),d=(0,I.O_)(),[x,m]=(0,j.useState)(!1),p=(0,l.usePathname)();(0,j.useEffect)(()=>{d&&m(R(a,o))},[d,a,o]);let h=i===p;return o&&x?(0,n.jsx)(k,{open:!0,title:a,onNewFeatureHintClose:()=>{d&&(sessionStorage.setItem("seen-".concat(a),"true"),m(!1))},children:(0,n.jsx)(S.WithGenericTooltip,{content:a,genericTooltipContentProps:{side:"bottom"},children:(0,n.jsx)(g.default,{href:i,onClick:()=>{var e;u.c.triggerEventUsingElementId(r),(0,T.iC)(s,null!==(e=null==c?void 0:c.email)&&void 0!==e?e:"")},className:(0,O.cn)("tool-icon p-[5px]",{active:h}),children:(0,n.jsx)(t,{className:"h-[22px] w-[22px]"})},a)})}):(0,n.jsx)(S.WithGenericTooltip,{content:a,genericTooltipContentProps:{side:"bottom"},children:(0,n.jsx)(g.default,{href:i,onClick:()=>{var e;u.c.triggerEventUsingElementId(r),(0,T.iC)(s,null!==(e=null==c?void 0:c.email)&&void 0!==e?e:"")},className:(0,O.cn)("tool-icon p-[5px]",{active:h}),children:(0,n.jsx)(t,{className:"h-[22px] w-[22px]"})},a)})},M=()=>{let{isEnabled:e}=(0,w.y)("enable_canvas"),t=[{title:"Text to Image",Icon:f.UV,to:c.H7.FROM_TEXT,eventId:o.i.TEXT_BTN_ID,sibId:y.r.TEXT_TO_IMAGE_TOOL_BTN,show:!0},{title:"Image Remix",Icon:f.zS,to:c.H7.IMAGE_REMIX,eventId:o.i.IMAGE_REMIX_BTN_ID,sibId:y.r.IMAGE_REMIX_TOOL_BTN,show:!0},{title:"Canvas",Icon:f.OQ,to:c.H7.CANVAS_TOOL,eventId:"",sibId:y.r.CANVAS_TOOL_BTN,isNewFeature:!1,show:e}];return(0,n.jsx)("div",{className:"flex w-fit items-center gap-3",children:t.filter(e=>e.show).map(e=>(0,j.createElement)(A,{...e,key:e.title}))})},P=e=>{let{isSubscriptionActive:t,selectedCollection:r}=e,{exportAllImagesHandler:a}=h({isSubscriptionActive:t,selectedCollection:r}),i=(0,p.E)(!0,t);return(0,n.jsxs)(b.L,{children:[(0,n.jsx)(b.L.Start,{children:(0,n.jsx)(_,{})}),(0,n.jsx)(b.L.Center,{children:(0,n.jsx)(M,{})}),(0,n.jsx)(b.L.End,{children:(0,n.jsx)(E.K,{isSubscriptionActive:t,exportAllImagesHandler:a,isExportAllDisabled:i||!(r&&r.images.length>0),isLocked:i})})]})};var z=r(11348),U=r(85609);let L=e=>{let{collectionsCount:t,className:r="right-2 top-1",show:a=!1}=e;return(0,n.jsx)(z.M,{children:a&&(0,n.jsx)(U.E.div,{className:(0,O.cn)("absolute z-[100] inline-flex h-[18px] w-fit items-center justify-center rounded-full bg-neutral-800 px-2 py-1 transition-colors duration-500 dark:bg-neutral-0",r),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsx)("span",{className:"text-xs font-bold leading-[18px] text-neutral-0 dark:text-neutral-900",children:t})},"collection-count")})},B=e=>{let{className:t,isOpen:r,collectionsCount:a,type:i,children:l,onClick:s,...o}=e,c=(0,j.useRef)(null);return(0,j.useEffect)(()=>{if(c.current){var e;null===(e=c.current)||void 0===e||e.scroll(0,0)}},[r,a]),(0,n.jsxs)(U.E.ul,{ref:c,style:{transformPerspective:70},className:(0,O.cn)("hide-scrollbar group relative grid max-h-[85px] w-full gap-3.5 overflow-hidden px-1.5 py-1 pt-3 transition-all duration-300 [grid-auto-rows:max-content]",{"h-auto max-h-[calc(100%-200px)] gap-0 overflow-y-auto":r,"py-3":1===a&&!r,"max-h-[50vh] overflow-y-scroll":"overlay"===i},t),onClick:e=>{e.stopPropagation(),null==s||s()},tabIndex:0,onKeyDown:e=>{e.stopPropagation(),null==s||s()},role:"button",transition:{duration:.3,ease:"linear",delayChildren:.1},layoutRoot:!0,layoutScroll:!0,...o,children:[l,(0,n.jsx)(L,{show:!r&&a>0,collectionsCount:a})]})};var H=r(20703);let D=(e,t)=>{let r=["enter"];return e||r.push("closed"),!e&&t&&r.push("hover"),e&&r.push("open"),r},G=e=>{let{idx:t,isOpen:r,collection:a,onCollectionSelect:i,selectedCollection:l,isHovered:s}=e,{images:o}=a,c=o[0],d=o[1],u=(null==l?void 0:l.id)===a.id,x=D(r,s),m={beforeEnter:{opacity:0,y:-100,x:3,height:r?64:30},enter:{opacity:1,y:0,height:r?64:30},exit:{opacity:0,display:"none"},open:{rotateX:0,y:0,height:64,zIndex:-t,opacity:1,borderRadius:8,margin:0===t?"0 0 5px":o.length>1?"13px 0 5px":"5px 0"},closed:{rotateX:25,y:-(30*t),height:30,zIndex:3-t,borderRadius:4,margin:0,opacity:t>2?0:1},hover:{scale:1.03,y:-(28*t)}},p={beforeEnter:{...m.beforeEnter},open:{...m.open,margin:0},enter:{...m.enter},closed:{...m.closed,y:0,rotateX:0},exit:{...m.exit}};return(0,n.jsxs)(U.E.li,{className:(0,O.cn)({"pointer-events-none":!r&&t>2,"[filter:_drop-shadow(0px_2px_4px_rgba(0,_0,_0,_0.25))]":!r}),transformTemplate:(e,t)=>"perspective(70px) ".concat(t),onClick:()=>{r&&i(a)},variants:m,initial:"beforeEnter",animate:x,exit:"exit",transition:{ease:"linear",duration:.3},layout:!0,children:[(0,n.jsx)(z.M,{mode:"wait",children:r&&u&&(0,n.jsx)(U.E.div,{className:"absolute -right-2 top-1/2 z-[100] h-1.5 w-4 -translate-y-1/2 rotate-90 rounded-lg bg-primary-600",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0,transition:{duration:.1}},transition:{ease:"linear",duration:.4}})}),(0,n.jsxs)("div",{className:(0,O.cn)("relative w-fit transition-transform duration-500",{" [transform:translateZ(0)] hover:scale-105":r}),children:[(0,n.jsx)(z.M,{children:r&&d&&(0,n.jsx)(U.E.div,{className:(0,O.cn)("absolute inset-x-0 -top-2 mx-auto h-8 w-[70px] overflow-hidden rounded-lg border-2 border-neutral-0",{"[box-shadow:_0px_2px_4px_0px_rgba(0,_0,_0,_0.25)]":r}),style:{zIndex:-(t+1)},initial:{opacity:0,x:3},animate:{opacity:1},exit:{opacity:0},transition:{ease:"linear",duration:.3,delay:.1},children:(0,n.jsx)(H.default,{src:d.src,alt:"previous generation",className:"h-full w-full object-cover object-center [image-rendering:crisp-edges]",width:70,height:70})})}),(0,n.jsx)(U.E.div,{className:(0,O.cn)("w-[74px] overflow-hidden border-2  border-neutral-0 [transform:translateZ(0)]",{"[box-shadow:_0px_2px_4px_0px_rgba(0,_0,_0,_0.25)]":r}),variants:p,initial:"beforeEnter",animate:x,exit:"exit",transition:{ease:"linear",duration:.3},children:(0,n.jsx)(H.default,{src:c.src,alt:"current generation",className:"h-full w-full object-cover object-center [image-rendering:crisp-edges]",width:74,height:74})}),(0,n.jsx)(L,{show:r&&o.length>1,collectionsCount:o.length,className:"bottom-1 right-0.5"})]})]})},Y=(e,t,r)=>{let n=["enter"];return e||n.push("closed"),e||!t||r||n.push("hover"),e&&n.push("open"),n},F=e=>{let{idx:t,isOpen:r,collection:a,onCollectionSelect:i,selectedCollection:l,isHovered:s,onImageSelect:o}=e,{images:c}=a,[d,u]=(0,j.useState)(!1),x=c[0],m=c[1],p=(null==l?void 0:l.id)===a.id,[h,g]=(0,j.useState)(0),f=Y(r,s,p),v=(e,t)=>{g(t),o&&o(e.id)},N={beforeEnter:{opacity:0,y:-100,x:3,height:r?64:30},enter:{opacity:1,y:0,height:r?64:30},exit:{opacity:0,display:"none"},open:{rotateX:0,y:0,height:"fit-content",zIndex:t,opacity:1,borderRadius:8,margin:0===t?"0 0 5px":c.length>1?"13px 0 5px":"5px 0"},closed:{rotateX:25,y:-(30*t),height:30,zIndex:3-t,borderRadius:4,margin:0,opacity:t>2?0:1},hover:{scale:1.03,y:-(28*t)}},_={beforeEnter:{...N.beforeEnter},open:{...N.open,margin:0},enter:{...N.enter},closed:{...N.closed,y:0,rotateX:0},exit:{...N.exit}};return(0,j.useEffect)(()=>{p&&r||u(!1)},[p,r]),(0,n.jsx)(U.E.li,{className:(0,O.cn)({"pointer-events-none":!r&&t>2,"[filter:_drop-shadow(0px_2px_4px_rgba(0,_0,_0,_0.25))]":!r}),transformTemplate:(e,t)=>"perspective(70px) ".concat(t),onClick:()=>{r&&!p&&i(a)},variants:N,initial:"beforeEnter",animate:f,exit:"exit",transition:{ease:"linear",duration:.3},layout:!0,children:(0,n.jsxs)("div",{className:(0,O.cn)("relative w-fit transition-transform duration-500",{" [transform:translateZ(0)] hover:scale-105":r&&!p}),children:[(0,n.jsx)(z.M,{children:r&&m&&!p&&(0,n.jsx)(U.E.div,{className:(0,O.cn)("absolute inset-x-0 -top-2 mx-auto h-8 w-[74px] overflow-hidden rounded-lg border-2 border-neutral-0",{"[box-shadow:_0px_2px_4px_0px_rgba(0,_0,_0,_0.25)]":r}),style:{zIndex:-(t+1)},initial:{opacity:0,x:3},animate:{opacity:1},exit:d?{y:-21}:{y:20},transition:{ease:"linear",duration:.3,delay:.1},children:(0,n.jsx)(H.default,{src:m.src,alt:"previous generation",className:"h-full w-full object-cover object-center [image-rendering:crisp-edges]",width:70,height:70})})}),(0,n.jsx)("div",{children:(0,n.jsxs)(U.E.div,{className:(0,O.cn)("relative h-fit w-[74px] overflow-hidden border-2 border-neutral-0 [transform:translateZ(0)]",{"[box-shadow:_0px_2px_4px_0px_rgba(0,_0,_0,_0.25)]":r,"flex flex-col gap-[2px] overflow-visible bg-neutral-0":p&&r}),variants:_,initial:"beforeEnter",animate:f,exit:"exit",transition:{ease:"linear",duration:.3},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(z.M,{mode:"wait",children:r&&p&&0===h&&(0,n.jsx)(U.E.div,{className:"absolute right-[-18px] top-1/2 z-[100] h-1.5 w-4 -translate-y-1/2 rotate-90 rounded-lg bg-primary-600",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0,transition:{duration:.1}},transition:{ease:"linear",duration:.4}})}),(0,n.jsx)(H.default,{src:x.src,alt:"current generation",className:"h-[60px] w-[74px] rounded-lg object-cover object-center [image-rendering:crisp-edges]",width:74,height:74,onClick:()=>v(x,0)})]}),(0,n.jsx)(z.M,{mode:"wait",children:p&&c.slice(1).map((e,t)=>(0,n.jsxs)(U.E.div,{className:"relative",exit:{height:0},children:[(0,n.jsx)(z.M,{mode:"wait",children:r&&p&&h-1===t&&(0,n.jsx)(U.E.div,{className:"absolute right-[-18px] top-1/2 z-[100] h-1.5 w-4 -translate-y-1/2 rotate-90 rounded-lg bg-primary-600",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},exit:{opacity:0,transition:{duration:.1}},transition:{ease:"linear",duration:.4}})}),(0,n.jsx)(H.default,{src:e.src,alt:"current generation",className:"h-[60px] w-[74px] rounded-lg object-cover object-center [image-rendering:crisp-edges]",width:74,height:74,onClick:()=>v(e,t+1)})]},e.id))})]})}),!p&&(0,n.jsx)(L,{show:r&&c.length>1,collectionsCount:c.length,className:"bottom-1 right-0.5"})]})})},X=e=>{let{collections:t,nested:r=!1,type:a,...i}=e,[l,s]=(0,j.useState)(!1),[o,c]=(0,j.useState)(!1);return(0,n.jsxs)(z.M,{children:[t.length>0&&(0,n.jsx)(B,{isOpen:l,onClick:()=>{l||s(!0)},collectionsCount:t.length,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),type:a,children:t.map((e,t)=>r?(0,n.jsx)(F,{idx:t,isOpen:l,collection:e,isHovered:o,...i},e.id):(0,n.jsx)(G,{idx:t,isOpen:l,collection:e,isHovered:o,...i},e.id))},"collapsible-container"),l&&(0,n.jsx)(U.E.div,{className:"w-[85px]",initial:{opacity:0,x:4},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},layout:!0,children:(0,n.jsx)(N.z,{size:"icon-sm",variant:"ghost-secondary",className:"mx-auto text-neutral-900 dark:text-neutral-0",onClick:()=>s(e=>!e),children:(0,n.jsx)(f.v4,{className:"rotate-180"})})},"expand-button")]})},V=(0,r(57742).j)("flex w-fit flex-col",{variants:{type:{block:"",overlay:"absolute top-0 left-0 z-50"}},defaultVariants:{type:"block"}}),W=e=>{let{collectionState:t,type:r}=e;return(0,n.jsx)("div",{className:(0,O.cn)(V({type:r})),children:(0,n.jsx)("div",{className:"mt-6 flex h-full flex-col overflow-hidden",children:(0,n.jsx)("div",{"aria-label":"Sidebar",className:"mx-2.5 flex h-full max-h-full w-[100px] flex-col items-start gap-4",children:(0,n.jsx)(X,{...t,type:r})})})})},Q=Object.assign(e=>{let{className:t,children:r}=e;return(0,n.jsx)("aside",{className:"flex h-full flex-shrink-0 flex-col overflow-hidden",children:(0,n.jsx)("div",{className:(0,O.cn)("relative flex h-full w-[240px] min-w-[240px] max-w-[240px] flex-col divide-y divide-neutral-20 overflow-hidden overflow-y-auto border-l border-neutral-20 bg-neutral-0 transition-all duration-500 dark:divide-neutral-800 dark:border-neutral-800 dark:bg-neutral-900",t),children:r})})},{Item:e=>{let{className:t,children:r}=e;return(0,n.jsx)("div",{className:(0,O.cn)("px-3 pb-4 pt-px",t),children:r})}});var Z=r(30222),K=r(7615),$=r(82670),q=r(22304),J=r(86713),ee=r(51261),et=r(89782);let er=e=>"style_id"in e&&0===e.id,en=(0,ee.j)({size:"sm",className:"p-[3px] pr-2.5"}),ea=e=>{let{children:t,className:r,controllerArgs:a,asModal:i=!1,...l}=e,{field:s}=(0,$.bc)(a),{value:o}=s,{name:c,thumb:d}=(0,et.o)(o),u=i?Z.$c:C.mu;return(0,n.jsx)(u,{asChild:!0,children:(0,n.jsx)("button",{type:"button",className:(0,O.cn)("popover-trigger-base group",en),...l,children:(0,n.jsxs)("div",{className:"flex h-full w-full items-center",children:[(0,n.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[d&&(0,n.jsx)(H.default,{src:"".concat(q.v.REMOTE_CONFIG_CDN).concat(d),alt:c,className:"h-[26px] w-[26px] rounded-md bg-neutral-20",width:26,height:26}),(0,n.jsx)("span",{className:(0,O.cn)("max-w-[133px] truncate",{"ml-1.5":!d}),children:er(o)?"Add Style":c||"Select ".concat(s.name)})]}),(0,n.jsx)(J.XC,{className:"h-5 w-5 rotate-0 transform stroke-[1.5] text-neutral-400 transition-all duration-500 group-data-[state=open]:rotate-90 dark:text-neutral-40 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"})]})})})};var ei=r(37398),el=r(4500);let{ART_STYLES:es}=el.TOOLS_SETTINGS,eo=e=>{let{controllerArgs:t,settings:r,favoriteSettings:a,popularSettings:i,defaultSetting:l,toggleFavorite:s,onClickEventFire:o,asModal:c=!1,modalContainer:d}=e,u=c?Z.$E:C.A6;return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:es.title,hint:es.hint}),(0,n.jsxs)(u,{children:[(0,n.jsx)(ea,{controllerArgs:t,asModal:c}),(0,n.jsx)(K.U,{title:es.title,controllerArgs:t,settings:r,favoriteSettings:a,popularSettings:i,defaultSetting:l,toggleFavorite:s,onClickEventFire:o,asModal:c,modalContainer:d})]})]})};eo.displayName="ArtStyles";var ec=r(2908);let{ASPECT_RATIO:ed}=el.TOOLS_SETTINGS,eu=e=>(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:ed.title,hint:ed.hint}),(0,n.jsx)(ec.N,{...e})]});var ex=r(66360);let em=e=>{let{title:t,hint:r,note:a,value:i,name:l,step:s=1,max:o,min:c=0,setValue:d,convertDisplayValue:u=e=>e.toString(),isEnabled:x=!0}=e;return(0,n.jsxs)("div",{className:(0,O.cn)("flex w-full flex-col",{"opacity-50 dark:opacity-30":!x}),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(ei.z,{title:t,hint:r,note:a}),(0,n.jsx)("span",{className:"grid h-5 place-items-center rounded-md bg-neutral-20 px-2 text-xs font-medium leading-[18px] text-neutral-900 transition-all duration-500 dark:bg-neutral-800 dark:text-neutral-0",children:u(i)})]}),(0,n.jsx)("div",{className:"py-[9px]",children:(0,n.jsx)(ex.U,{min:c,max:o,value:i,onChange:e=>{x&&d(e)},step:s,name:l})})]})},{CFG_SCALE:ep}=el.TOOLS_SETTINGS,eh=e=>{let{controllerArgs:t,cfgEnabled:r=!0}=e,{field:a}=(0,$.bc)(t);return(0,n.jsx)(em,{title:ep.title,hint:ep.hint,note:ep.note,value:a.value,max:15,min:3,step:.5,isEnabled:r,setValue:a.onChange,name:t.name,convertDisplayValue:e=>"".concat(e.toFixed(1))})};var eg=r(60750);let ef=e=>{let{controllerArgs:t,controlModes:r,onClickEventFire:a,popoverControl:i,asModal:o}=e,{field:d}=(0,$.bc)(t),u=(0,l.useRouter)(),x=(0,v.useUserStoreContext)()(e=>e.subscription),{isSubscriptionActive:m}=(0,eg.L)(x),p=()=>{u.push(c.H7.SUBSCRIPTION)},h=e=>{!m&&e.isPremium?(0,s.j)(p):(d.onChange(e.parameter),a(e.parameter))};return(0,n.jsxs)("div",{className:"h-full w-full overflow-hidden py-2 text-neutral-900 dark:text-neutral-40",children:[(0,n.jsxs)("div",{className:"flex h-[38px] items-center justify-between px-4",children:[(0,n.jsx)("span",{className:"font-medium",children:"Control Modes"}),(0,n.jsx)(N.z,{variant:"ghost-secondary",size:"icon-sm",onClick:null==i?void 0:i.closeModal,children:(0,n.jsx)(f.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"})})]}),(0,n.jsx)("div",{className:(0,O.cn)("flex max-h-[536px] flex-col gap-2 overflow-y-auto p-4 pb-2",{"max-h-[460px]":o}),children:r.map(e=>(0,n.jsxs)("button",{className:(0,O.cn)("relative flex w-full flex-row items-center justify-between rounded-lg py-2 pl-3 pr-2 text-left transition-all duration-500 dark:bg-neutral-900",{"bg-primary-500 bg-opacity-[0.15] ring-1 ring-inset ring-primary-500 dark:bg-primary-400 dark:bg-opacity-[0.15] dark:ring-2 dark:ring-primary-400":d.value===e.parameter,"hover:bg-neutral-20 dark:hover:bg-neutral-800":d.value!==e.parameter}),onClick:()=>h(e),type:"button",children:[!m&&e.isPremium&&(0,n.jsx)("div",{className:"absolute right-1 top-1 z-10 -translate-y-1/2 translate-x-1/2 transform rounded-full bg-primary-50 p-0.5 transition-all duration-500 dark:text-neutral-0",children:(0,n.jsx)(f.Uj,{className:"text-primary-500 transition-all duration-500 dark:text-neutral-900"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-sm font-semibold leading-5 text-neutral-900 dark:text-neutral-0",children:e.displayName}),(0,n.jsx)("p",{className:"w-[130px] text-xs font-normal leading-[18px] text-neutral-600 dark:text-neutral-40",children:e.description})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,n.jsx)(H.default,{alt:"beforeImage-".concat(e.parameter),className:"flex h-20 w-20 rounded-md",src:q.v.ASSETS_CDN+e.beforeImage,height:80,width:80}),(0,n.jsx)(H.default,{alt:"afterImage-".concat(e.parameter),className:"flex h-20 w-20 rounded-md",src:q.v.ASSETS_CDN+e.afterImage,height:80,width:80})]})]},e.parameter))})]})},ev=(0,ee.j)({size:"sm",className:"p-[3px] pr-2.5"}),eN=e=>{let{children:t,className:r,controllerArgs:a,asModal:i,...l}=e,{field:s}=(0,$.bc)(a),{value:o}=s,c=i?Z.$c:C.mu;return(0,n.jsx)(c,{asChild:!0,children:(0,n.jsx)("button",{type:"button",className:(0,O.cn)("popover-trigger-base group",ev),...l,children:(0,n.jsxs)("div",{className:"flex h-full w-full items-center",children:[(0,n.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,n.jsx)("span",{className:(0,O.cn)("ml-1.5 max-w-[133px] truncate capitalize"),children:o})}),(0,n.jsx)(f.XC,{className:"h-5 w-5 rotate-0 transform stroke-[1.5] text-neutral-400 transition-all duration-500 group-data-[state=open]:rotate-90 dark:text-neutral-40 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"})]})})})};var e_=r(79121);let{CONTROL_MODES:eb}=el.TOOLS_SETTINGS,eE=e=>{let{controllerArgs:t,controlModes:r,onClickEventFire:a,container:i=document.body,asModal:l=!1}=e,s=(0,e_.d)(),o=l?Z.$E:C.A6,c=l?Z.Yk:C.nE,d=l?{className:"py-2 max-h-[520px] w-[374px] min-w-[374px] max-w-[374px] min-h-[520px]",container:i}:{align:"start",sideOffset:24,side:"left",className:"mb-24 max-h-[620px] w-[400px] min-w-[400px] max-w-[400px]"};return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:eb.title,hint:eb.hint}),(0,n.jsxs)(o,{open:s.isModalOpen,onOpenChange:s.setIsModalOpen,children:[(0,n.jsx)(eN,{controllerArgs:t,asModal:l}),(0,n.jsx)(c,{...d,children:(0,n.jsx)(ef,{popoverControl:s,controlModes:r,controllerArgs:t,onClickEventFire:a,asModal:l})})]})]})};var ej=r(38362);let{HIGH_RES_RESULTS:ey}=el.TOOLS_SETTINGS,ew=e=>{let{controllerArgs:t,isEnabled:r=!0}=e,{field:a}=(0,$.bc)(t),i=(0,v.useUserStoreContext)()(e=>e.subscription),{isSubscriptionActive:x}=(0,eg.L)(i),{activeTool:m}=(0,d.useToolsContext)(),h=(0,p.E)(ey.isPremium,x),g=(0,l.useRouter)(),N=()=>{g.push(c.H7.SUBSCRIPTION)},_=!r;return(0,n.jsx)("div",{children:(0,n.jsx)(S.WithGenericTooltip,{content:_?ey.disabledHint:ey.hint,genericTooltipContentProps:{side:"bottom"},variant:"hint",children:(0,n.jsxs)("div",{className:(0,O.cn)("relative mt-3 flex items-center justify-between gap-2 rounded-[10px] bg-neutral-20 py-2 pl-3 pr-2 transition-all duration-500 dark:bg-neutral-800",{"opacity-50 dark:opacity-30":_}),children:[h&&(0,n.jsx)("div",{className:"absolute right-0.5 top-0.5 z-10 -translate-y-1/2 translate-x-1/2 transform rounded-full bg-primary-50 p-0.5 transition-all duration-500 dark:text-neutral-0",children:(0,n.jsx)(f.Uj,{className:"text-primary-500 transition-all duration-500 dark:text-neutral-900"})}),(0,n.jsx)("span",{className:"text-xs font-medium text-neutral-500 transition-all duration-500 dark:text-neutral-0",children:ey.title}),(0,n.jsx)(ej.L,{checked:a.value,onCheckedChange:()=>{if(!_){if(h){(0,s.j)(N);return}u.c.triggerEventUsingElementId(o.i.HIGH_RES,void 0,{[o.L.TOOL_USED]:m}),a.onChange(!a.value)}},size:"sm",disabled:_})]})})})},{IMAGE_STRENGTH:eI}=el.TOOLS_SETTINGS,eT=e=>{let{controllerArgs:t}=e,{field:r}=(0,$.bc)(t);return(0,n.jsx)(em,{title:eI.title,hint:eI.hint,value:r.value,max:100,min:0,step:.5,setValue:r.onChange,name:t.name,convertDisplayValue:e=>"".concat(e.toFixed(1))})},{MODELS:eS}=el.TOOLS_SETTINGS,eO=e=>{let{controllerArgs:t,settings:r,favoriteSettings:a,popularSettings:i,defaultSetting:l,toggleFavorite:s,onClickEventFire:o,asModal:c=!1,modalContainer:d}=e,u=c?Z.$E:C.A6;return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:eS.title,hint:eS.hint}),(0,n.jsxs)(u,{children:[(0,n.jsx)(ea,{controllerArgs:t,asModal:c}),(0,n.jsx)(K.U,{title:eS.title,controllerArgs:t,settings:r,favoriteSettings:a,popularSettings:i,defaultSetting:l,toggleFavorite:s,onClickEventFire:o,asModal:c,modalContainer:d})]})]})};eO.displayName="Models";var eC=r(30243);let{NEGATIVE_PROMPT:ek}=el.TOOLS_SETTINGS,eR=e=>{let{formHook:t,name:r}=e;return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:ek.title,hint:ek.hint}),(0,n.jsx)(eC.K,{darkVariant:"dark-v1",lightVariant:"light-v1",placeholder:ek.placeholder,size:"sm",className:"hide-scrollbar h-20 resize-none",...t.register(r)})]})};var eA=r(93148);let{NUM_OF_IMAGES:eM}=el.TOOLS_SETTINGS,eP=Object.values(eM.content),ez=e=>{let{controllerArgs:t}=e,{field:r}=(0,$.bc)(t);return(0,n.jsxs)(eA.eH,{value:"".concat(r.value),onValueChange:e=>{r.onChange(+e)},children:[(0,n.jsx)(eA.PQ,{size:"sm",className:"pl-4",children:(0,n.jsx)(eA.Dd,{})}),(0,n.jsx)(eA.wQ,{size:"sm",children:eP.map(e=>(0,n.jsx)(eA.xH,{value:"".concat(e),className:"[.sm_&]:pl-4",children:e},e))})]})},{NUM_OF_IMAGES:eU}=el.TOOLS_SETTINGS,eL=e=>(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:eU.title,hint:eU.hint}),(0,n.jsx)(ez,{...e})]}),eB=e=>{let{error:t}=e;return t?(0,n.jsx)("div",{className:"mt-2 inline-block w-full rounded-md bg-error-600 bg-opacity-[0.15] p-2 text-sm text-error-600 dark:bg-error-400 dark:bg-opacity-[0.15] dark:text-error-400",children:(0,n.jsx)("p",{children:t})}):null};var eH=r(7762);let{SEED_PROMPT:eD}=el.TOOLS_SETTINGS,eG=e=>{var t;let{formHook:r,name:a}=e,i=r.formState.errors.seed;return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(ei.z,{title:eD.title,hint:eD.hint}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(eH.II,{type:"number",placeholder:"Enter a seed",className:(0,O.cn)({"border-error-400 hover:border-error-400 focus:border-error-400 focus:ring-error-400":i}),size:"sm",...r.register(a,{setValueAs:e=>""===e?void 0:Number(e)})})}),(0,n.jsx)(eB,{error:"".concat(null!==(t=null==i?void 0:i.message)&&void 0!==t?t:"")})]})]})}},31975:function(e,t,r){r.d(t,{M:function(){return o},l:function(){return a}});var n,a,i=r(30248),l=r(46520),s=r(409);(n=a||(a={})).SEED="seed",n.STYLE="style",n.CFG="cfg_scale",n.PROMPT="prompt",n.MODEL_ID="model_id",n.NUM_IMAGES="num_images",n.ASPECT_RATIO="aspect_ratio",n.VIDEO_MODAL_ID="video_model_id",n.UPLOADED_IMAGE="uploaded_image",n.GENERATED_IMAGE="generated_image",n.UPLOADED_IMAGE_CROPPED_FORM="uploaded_image_cropped_form";let o=i.z.object({prompt:l.Pp.min(1),style:s.X2.optional(),model_id:i.z.number(),num_images:i.z.number(),aspect_ratio:i.z.string(),cfg_scale:l.xO,seed:l.TI,video_model_id:i.z.number(),uploaded_image:l.KA,generated_image:l.KA,uploaded_image_cropped_form:l.KA})},87199:function(e,t,r){r.d(t,{Qt:function(){return x},hB:function(){return p}});var n=r(2115),a=r(41231),i=r(22020),l=r(65249),s=r(88808),o=r(22304),c=r(60789);let d=(e,t)=>{if(!e||!t)return!1;let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(r=>{let n=e[r],a=t[r];return n&&a&&(0,c.EE)(n,a)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",x=(e,t)=>{var r,n,a,i;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(r=e.style)||void 0===r?void 0:r.id)===(null===(n=t.style)||void 0===n?void 0:n.id)&&(null===(a=e.model)||void 0===a?void 0:a.id)===(null===(i=t.model)||void 0===i?void 0:i.id)},m=e=>{let{collections:t,selectedCollectionId:r}=e;return r?t.findIndex(e=>e.id===r):-1},p=e=>(0,i.Ue)()((0,s.n)((0,l.mW)((t,r)=>({collections:[],selectedCollectionId:void 0,selectedImageId:void 0,setSelectedCollection:e=>{t(t=>{let r=t.collections.find(t=>t.id===e.id);r&&(t.selectedCollectionId=r.id,t.selectedImageId=r.images[0].id)})},setSelectedImage:e=>{t(t=>{let r=t.collections.find(e=>e.id===t.selectedCollectionId);r&&r.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(i,l,s)=>{t(t=>{let o=m(r()),c=(0,n.cA)(l),d=i.map(e=>({id:(0,a.Z)(),...e,...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{}}));if(-1===o||!t.collections[o]){let e=(0,n.cA)({id:(0,a.Z)(),images:d,settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,n.P2)({id:(0,a.Z)(),images:d,settings:l});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,n)=>{t(t=>{t.collections.forEach(t=>{let r=t.images.find(t=>t.id===e);r&&(r.isLoading=n)});let a=m(r());if(-1===a)return;let i=t.collections[a].images.find(t=>t.id===e);i&&(i.isLoading=n)})},setImagesUpscale:(e,n,a)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=a)})});let i=m(r());-1!==i&&t.collections[i].images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=a)})})},deleteImage:e=>{t(t=>{var n;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let a=m(r());-1!==a&&(t.collections[a].images=t.collections[a].images.filter(t=>t.id!==e),t.collections[a].images.length>0||(t.collections=t.collections.filter(e=>{var r;return e.id!==(null===(r=t.collections[a])||void 0===r?void 0:r.id)}),t.selectedCollectionId=null===(n=t.collections[0])||void 0===n?void 0:n.id))})},setFocusOfOriginalImage:(e,n)=>{t(t=>{let a=m(r());if(-1===a)return;let i=t.collections[a].images.find(t=>t.id===e);i&&(i.isFocused=n)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},79160:function(e,t,r){var n,a;r.d(t,{X:function(){return n}}),(a=n||(n={})).Canvas="Canvas",a.FromText="FromText",a.ImageRemix="ImageRemix",a.Enhance="Enhance"},32340:function(e,t,r){r.d(t,{c:function(){return c}});var n=r(47009),a=r(69092),i=r.n(a),l=r(22304);let s={gtmId:l.v.GTM_ID},o={autoConfig:!0,debug:l.v.IS_DEV};class c{static async initAnalytics(){let e=await r.e(5753).then(r.t.bind(r,25753,23));c.ReactPixel=e.default,this.ReactPixel.init(l.v.PIXEL_ID,void 0,o),i().initialize(s),n.Z.init(l.v.TAPFILIATE_ID,{integration:"stripe"})}static getReactPixel(){if(!c.ReactPixel)throw Error("Analytics not initialized");return c.ReactPixel}static triggerEventUsingElementId(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i().dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e,eventID:t,...r}}),c.ReactPixel.trackCustom(e)}}},78783:function(e,t,r){r.d(t,{t:function(){return n}});let n=Intl.NumberFormat("en",{notation:"compact"})}}]);