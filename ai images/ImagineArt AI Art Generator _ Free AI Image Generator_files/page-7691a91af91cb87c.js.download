(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6590],{6089:function(e,t,l){Promise.resolve().then(l.bind(l,38501)),Promise.resolve().then(l.bind(l,33189)),Promise.resolve().then(l.bind(l,32220)),Promise.resolve().then(l.bind(l,86088)),Promise.resolve().then(l.bind(l,89550))},38501:function(e,t,l){"use strict";l.r(t),l.d(t,{FromTextWithoutFormProvider:function(){return g}});var r=l(57437),n=l(2265),a=l(32220),s=l(86088),o=l(92986),i=l(81461),c=l(29894),u=l(69349);let d=e=>{let{children:t,navbarProps:l,primarySidebarProps:n}=e;return(0,r.jsxs)(c.X,{children:[(0,r.jsx)(c.X.Header,{children:(0,r.jsx)(i.pC,{...l})}),(0,r.jsxs)(c.X.Body,{children:[(0,r.jsx)(i.hI,{...n}),(0,r.jsx)("section",{className:"flex h-full flex-1 flex-col overflow-hidden",children:t}),(0,r.jsx)(u.m,{isSubscriptionActive:l.isSubscriptionActive})]})]})};var x=l(94364),m=l(94599),f=l(79160),p=l(60750);let g=e=>{let{children:t}=e,{setActiveTool:l}=(0,s.useToolsContext)(),{formHook:i}=(0,a.useFromTextFormContext)(),c=(0,x.TI)(e=>e.collections),u=(0,o.h)(x.TI),g=(0,x.TI)(e=>e.setSelectedCollection),h=(0,m.useUserStoreContext)()(e=>e.subscription),{isSubscriptionActive:y}=(0,p.L)(h);return(0,n.useEffect)(()=>{l(f.X.FromText)},[l]),(0,r.jsx)(d,{navbarProps:{selectedCollection:u,isSubscriptionActive:y},primarySidebarProps:{collectionState:{collections:c,selectedCollection:u,onCollectionSelect:e=>{g(e),i.reset(e.settings)}}},children:t})}},33189:function(e,t,l){"use strict";l.r(t),l.d(t,{PersistFromTextFormValues:function(){return d}});var r=l(2265),n=l(82670),a=l(74961),s=l(32220),o=l(92986),i=l(94364),c=l(48290),u=l(16003);let d=()=>{let{formHook:e}=(0,s.useFromTextFormContext)(),t=(0,o.h)(i.TI),l=(0,a.O_)(),d=(0,c.p)(e=>e.persistFromTextSetting),x=(0,u.Td)()(e=>e.defaultStyle),m=(0,u.Td)()(e=>e.defaultModel),f=(0,n.qo)({control:e.control});return(0,r.useEffect)(()=>{if(!l||t||!f)return;let e=f.style,r=f.model;d({...f,style:null!=e?e:x,model:null!=r?r:m,tags:{}})},[f,t,x,m,d,l]),null}},32220:function(e,t,l){"use strict";l.r(t),l.d(t,{FromTextFormProvider:function(){return h},useFromTextFormContext:function(){return y}});var r=l(57437),n=l(21270),a=l(2265),s=l(82670),o=l(74961),i=l(4500),c=l(92986),u=l(30248),d=l(6280);let x=u.z.object({...d.q});var m=l(94364),f=l(48290),p=l(16003),g=l(60789);let h=e=>{let{children:t,isCanvas:l}=e,u=(0,p.Td)()(e=>e.defaultStyle),d=(0,p.Td)()(e=>e.defaultModel),h=(0,s.cI)({resolver:(0,n.F)(x),defaultValues:{...i.PN,style:u,model:d},mode:"onChange"}),y=(0,f.p)(e=>e.persistedFromTextSetting),v=(0,c.h)(m.cg),j=(0,c.h)(m.TI),C=l?v:j,T=(0,o.O_)();return(0,a.useEffect)(()=>{if(!T)return;if(!C){if(!y){h.setValue("style",u),h.setValue("model",d);let e=(0,g.ER)();e&&h.setValue("prompt",e);return}let e=(0,g.ER)();e?h.reset({...y,prompt:e}):h.reset({...y});return}let{settings:{num_images:e,...t}}=C,l=h.getValues("num_images");null==h||h.reset({...t,num_images:l})},[C,h,u,d,T]),(0,r.jsx)(s.RV,{...h,children:t})},y=()=>{let e=(0,s.Gc)();return(0,a.useMemo)(()=>({formHook:e}),[e])}},9533:function(e,t,l){"use strict";l.d(t,{V:function(){return n}});var r=l(57437);let n=e=>{let{className:t}=e;return(0,r.jsxs)("svg",{width:"500",height:"500",fill:"none",viewBox:"0 0 500 500",className:t,children:[(0,r.jsxs)("g",{clipPath:"url(#IllustrationBackground_a)",className:"dark:opacity-50",children:[(0,r.jsx)("path",{fill:"currentColor",className:"text-neutral-40 transition-all duration-500 dark:text-neutral-700",d:"m100.648 320.362-26.545 13.856a.461.461 0 0 0-.136.711l19.578 22.673a.462.462 0 0 0 .433.152l28.884-5.361a.462.462 0 0 0 .293-.719l-21.915-31.168a.463.463 0 0 0-.592-.144ZM195.013 327.117l-33.971 28.1c-.165.136-.247.204-.291.298-.044.093-.044.2-.044.413v24.251c0 .442 0 .662.138.798s.359.132.8.125l312.452-5.06c.108-.002.162-.002.213-.015.052-.013.1-.038.196-.087l24.819-12.801c.244-.126.366-.189.433-.299.067-.111.067-.248.067-.522v-78.294c0-1.981 0-2.971-.38-3.039-.381-.068-.723.861-1.409 2.719l-11.898 32.237c-.172.466-.258.7-.456.774-.198.074-.416-.045-.852-.283l-8.916-4.86c-.348-.19-.522-.285-.695-.243-.173.042-.285.205-.509.533l-28.782 42.112c-.123.18-.185.27-.276.322-.091.053-.199.061-.416.078l-80.503 6.177a.934.934 0 0 1-.273.001.947.947 0 0 1-.247-.115l-47.725-26.62c-.221-.124-.332-.185-.453-.185s-.231.063-.452.188l-37.714 21.37c-.259.147-.389.221-.529.211-.14-.01-.257-.102-.493-.286l-20.61-16.047c-.124-.096-.186-.144-.259-.17-.073-.025-.152-.025-.309-.025h-9.017c-.19 0-.284 0-.37-.035-.085-.035-.152-.103-.285-.237l-24.015-24.179c-.331-.332-.496-.499-.698-.491-.202.007-.354.185-.659.541l-15.777 18.415c-.274.32-.411.48-.597.498-.185.017-.35-.114-.68-.377l-7.394-5.901c-.281-.224-.421-.336-.585-.335-.164.002-.302.116-.579.345Z"}),(0,r.jsx)("path",{fill:"currentColor",className:"text-neutral-50 transition-all duration-500 dark:text-neutral-600",d:"m50.162 307.411-26.89 33.338c-.255.315-.381.472-.37.652.013.181.16.32.453.598l56.994 54.019c.173.164.26.246.37.277.11.031.226.006.459-.044l43.443-9.291c.167-.036.25-.053.332-.041.083.012.157.053.307.135l72.849 40.127c.293.161.439.242.592.22.152-.022.27-.14.507-.376l15.3-15.318c.171-.171.256-.257.367-.291.111-.033.229-.01.467.038l31.825 6.338c.072.014.108.021.144.023a.985.985 0 0 0 .146-.012l98.647-11.74c.066-.007.098-.011.131-.01.033 0 .065.006.13.017l49.377 8.238c.15.025.225.037.298.026.074-.012.142-.047.277-.116l77.283-39.799c.416-.214.624-.322.678-.516.054-.195-.07-.394-.317-.792l-30.838-49.665c-.335-.539-.502-.808-.751-.815-.248-.006-.429.254-.791.774l-20.473 29.427c-.121.174-.182.261-.27.312-.089.052-.194.061-.405.08l-99.1 8.925c-.215.019-.322.029-.419-.007-.098-.036-.173-.113-.324-.267l-13.803-14.09c-.376-.383-.564-.575-.786-.552-.222.023-.366.25-.653.704l-14.799 23.361c-.178.282-.268.423-.412.477-.144.055-.304.008-.625-.084l-55.537-16.089c-.185-.053-.277-.08-.37-.069-.093.011-.176.059-.343.154l-28.081 15.975c-.191.109-.287.163-.393.17-.106.007-.208-.035-.412-.118l-60.43-24.662c-.122-.049-.182-.074-.247-.081a.97.97 0 0 0-.258.026l-49.213 8.41c-.249.042-.373.064-.487.023-.113-.04-.197-.135-.363-.325l-41.803-47.723c-.335-.383-.503-.575-.718-.571-.215.005-.375.203-.695.6Z"}),(0,r.jsx)("ellipse",{cx:"276.117",cy:"274.795",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.259",ry:"1.675"}),(0,r.jsx)("ellipse",{cx:"230.129",cy:"152.124",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.215",ry:"1.616"}),(0,r.jsx)("ellipse",{cx:"74.627",cy:"232.456",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".868",ry:"1.154"}),(0,r.jsx)("ellipse",{cx:"93.699",cy:"46.815",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".787",ry:"1.047"}),(0,r.jsx)("ellipse",{cx:"455.001",cy:"89.271",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".472",ry:".628"}),(0,r.jsx)("ellipse",{cx:"35.355",cy:"71.265",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".472",ry:".628"}),(0,r.jsx)("ellipse",{cx:"29.457",cy:"241.625",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".472",ry:".628"}),(0,r.jsx)("ellipse",{cx:"305.212",cy:"196.128",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"106.669",cy:"72.859",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"140.684",cy:"319.397",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"152.485",cy:"132.416",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"440.581",cy:"40.08",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"273.973",cy:"140.265",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"156.305",cy:"330.939",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"228.218",cy:"238.227",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".694",ry:".923"}),(0,r.jsx)("ellipse",{cx:"249.958",cy:"328.544",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.259",ry:"1.675"}),(0,r.jsx)("ellipse",{cx:"21.564",cy:"314.232",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.259",ry:"1.675"}),(0,r.jsx)("ellipse",{cx:"128.955",cy:"20.856",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.102",ry:"1.465"}),(0,r.jsx)("ellipse",{cx:"36.713",cy:"182.025",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".787",ry:"1.047"}),(0,r.jsx)("ellipse",{cx:"156.971",cy:"209.688",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.102",ry:"1.465"}),(0,r.jsx)("ellipse",{cx:"372.674",cy:"91.955",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.102",ry:"1.465"}),(0,r.jsx)("ellipse",{cx:"278.61",cy:"12.084",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.102",ry:"1.465"}),(0,r.jsx)("ellipse",{cx:"453.314",cy:"297.553",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".521",ry:".693"}),(0,r.jsx)("ellipse",{cx:"490.532",cy:"179.926",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".944",ry:"1.256"}),(0,r.jsx)("ellipse",{cx:"488.796",cy:"13.26",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".944",ry:"1.256"}),(0,r.jsx)("ellipse",{cx:"214.585",cy:"55.273",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".944",ry:"1.256"}),(0,r.jsx)("ellipse",{cx:"116.892",cy:"289.136",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".787",ry:"1.047"}),(0,r.jsx)("ellipse",{cx:"67.1",cy:"134.113",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".63",ry:".837"}),(0,r.jsx)("ellipse",{cx:"451.233",cy:"212.142",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".868",ry:"1.154"}),(0,r.jsx)("ellipse",{cx:"383.719",cy:"67.867",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.041",ry:"1.385"}),(0,r.jsx)("ellipse",{cx:"396.218",cy:"312.096",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:".694",ry:".923"}),(0,r.jsx)("ellipse",{cx:"375.071",cy:"196.252",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.417",ry:"1.884"}),(0,r.jsx)("ellipse",{cx:"350.399",cy:"326.408",fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",rx:"1.041",ry:"1.385"}),(0,r.jsx)("path",{fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",d:"M80.464 393.281 1.559 318.478c-.667-.632-1-.948-1.28-.828-.279.12-.279.579-.279 1.498v179.929c0 .435 0 .653.135.788s.353.135.788.135h197.154c.435 0 .653 0 .788-.135s.135-.353.135-.788v-73.991c0-.267 0-.4-.065-.509-.064-.109-.181-.173-.415-.301l-73.084-39.958c-.149-.081-.223-.122-.305-.134-.082-.012-.165.006-.331.041l-43.508 9.289c-.233.05-.35.074-.46.044-.109-.031-.195-.113-.368-.277Z"}),(0,r.jsx)("path",{fill:"currentColor",className:"text-neutral-60 transition-all duration-500 dark:text-neutral-500",d:"m214.456 394.177-90.135 104.294c-.57.66-.854.989-.731 1.259.124.269.559.269 1.43.269l374.057-.267c.435 0 .653 0 .788-.135.135-.136.135-.353.135-.788v-162.18c0-.722 0-1.084-.234-1.216-.234-.133-.544.053-1.164.424l-102.269 61.225c-.15.09-.225.135-.309.15-.084.015-.169-.002-.341-.035l-49.318-9.562a.908.908 0 0 0-.151-.023.983.983 0 0 0-.151.014l-98.616 13.639a1.023 1.023 0 0 1-.169.016c-.042-.002-.083-.012-.166-.031l-31.749-7.348c-.265-.061-.397-.092-.519-.052s-.211.142-.388.347Z"}),(0,r.jsx)("path",{fill:"currentColor",className:"text-neutral-80 transition-all duration-500 dark:text-neutral-400",d:"m214.854 471.978-59.019 26.252c-1.554.691-2.331 1.037-2.254 1.403.078.366.929.365 2.63.364l342.865-.249c.435 0 .652 0 .787-.135.136-.136.136-.353.136-.788V382.744c0-.63 0-.946-.208-1.083-.207-.137-.497-.013-1.077.234l-79.149 33.673c-.133.056-.199.084-.27.091-.071.007-.141-.008-.282-.038l-71.061-15.017c-.164-.034-.246-.052-.327-.04-.081.012-.155.051-.302.131l-132.469 71.283Z"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"IllustrationBackground_a",children:(0,r.jsx)("rect",{width:"500",height:"500",fill:"currentColor",className:"text-neutral-0 transition-all duration-500",rx:"4"})})})]})}},89550:function(e,t,l){"use strict";l.r(t),l.d(t,{FromTextContent:function(){return B}});var r=l(57437),n=l(2265),a=l(32220),s=l(86088),o=l(96455),i=l(92986),c=l(8186),u=l(23671),d=l(60789);let x=async e=>{let{num_images:t}=e.data,l=Array.from({length:t},()=>{let t;return e.data.seed||(t=(0,d.X4)()),(0,u.o)(e.data,e.isPremium,t)}),r=await Promise.allSettled(l),{fulfilledResults:n,rejectedResults:a}=(0,d.aE)(r);if(!n.length)throw a[0].reason;return n},m=()=>{let e=(0,c.useMutation)(x);return Object.assign(e,{cancelRequest:()=>{e.isLoading&&(0,u.C)()}})};var f=l(95969),p=l(44494),g=l(15139),h=l(56691),y=l(41412);let v=async(e,t,l)=>{if(!l)throw Error("No image provided");let r=await (0,g.K$)(l),n=(0,y._)(e);return n.delete("image"),n.delete("seed"),n.delete("aspect_ratio"),n.append("image",r),n.append("seed","".concat(t)),n},j=async(e,t,l,r)=>{let n=await v(e,r,t),{data:a}=await p.p.post(h.TG.VARIATE,{body:n,headers:(0,h.kw)(l)},{throwOnError:!0});return(0,g.RJ)(a)},C=()=>(0,c.useMutation)(e=>j(e.settings,e.imgSrc,e.isPremium,e.randomSeed));var T=l(94364),k=l(94599),I=l(60750),N=l(53096),S=l(44587),_=l(7216),w=l(9533),b=l(22452),E=l(12694),F=l(47907),M=l(65052),O=l(37263),A=l(48104),P=l(55800),R=l(43650);let L=()=>{var e;let{formHook:t}=(0,a.useFromTextFormContext)(),{isLoading:l,data:r}=(0,P.X)(),n=0;if(l)return{cost:n};let s=null==r?void 0:r[h.TG.FROM_TEXT];if(!s)return{cost:n};let{criteria:o}=s,i=t.watch("model"),c=t.watch("num_images"),u=t.watch("high_res_results");return{cost:(n+=(0,R.l)(o,i)+(0,R.p)(o,u,i)+(null!==(e=s.base)&&void 0!==e?e:0))*c}},V=e=>{let{isPremium:t,generateImageMutation:l}=e,o=(0,F.usePathname)(),{isRenderedInsideCanvas:i}=(0,s.useToolsContext)(),c=(i?T.cg:T.TI)(e=>e.addImagesToCollection),{cost:u}=L(),{formHook:d}=(0,a.useFromTextFormContext)(),x=(0,F.useRouter)(),m=(0,k.useUserStoreContext)()(e=>e.user),f=(0,n.useCallback)(async e=>{if(!e.prompt){S.Am.error("Please enter a prompt");return}if(!m){x.push("".concat(O.H7.TOOLS_AUTH,"?redirect=").concat(o));return}l.mutate({data:e,isPremium:t},{onSuccess:t=>{if(!t||(null==t?void 0:t.length)===0){S.Am.error("Processing stopped");return}c(t,e)},onError:e=>(0,N.eL)(e,t)})},[c,l,t,x,m,o]);return(0,r.jsx)("form",{onSubmit:d.handleSubmit(f),children:(0,r.jsx)(A.w,{tagPopoverControlArgs:{control:d.control,name:"tags"},promptFormHook:{tokenCost:u,generateBtnId:M.i.GENERATE_BTN_ID,formHook:d,name:"prompt",isLoading:l.isLoading,onCancel:l.cancelRequest}})})},U=()=>(0,r.jsx)("div",{className:"flex h-full min-h-[520px] w-full flex-1 items-center justify-center",children:(0,r.jsx)("div",{className:"aspect-square max-h-full overflow-hidden rounded bg-neutral-30 object-contain transition-all duration-500 dark:bg-neutral-900",children:(0,r.jsx)(w.V,{})})}),X=()=>(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"flex max-h-[413px] min-h-[413px] w-full items-center justify-center overflow-hidden rounded-xl bg-neutral-30 object-contain transition-all duration-500 dark:bg-neutral-800",children:(0,r.jsx)(w.V,{className:"h-full w-full"})})}),B=e=>{let{className:t=""}=e,l=(0,k.useUserStoreContext)()(e=>e.subscription),{isSubscriptionActive:c}=(0,I.L)(l),{isRenderedInsideCanvas:u}=(0,s.useToolsContext)(),x=u?T.cg:T.TI,{collections:p,setSelectedCollection:g}=x(e=>e),h=x(e=>e.setImagesUpscale),y=x(e=>e.deleteImage),v=x(e=>e.setImageLoading),j=x(e=>e.addImagesToCollection),w=(0,i.h)(x),F=x(e=>e.setFocusOfOriginalImage),[M,O]=(0,n.useState)({isModalOpen:!1,initialImageIndex:0}),A=(0,f.X)(),P=C(),{formHook:R}=(0,a.useFromTextFormContext)(),L=R.watch("num_images"),B=async e=>{v(e,!0);let t=null==w?void 0:w.images.find(t=>t.id===e);if(!t)throw Error("Image not found");try{let l;l=t.upscaleSrc?t.upscaleSrc:await A.mutateAsync({isPremium:c,originalImgSrc:t.src});let r=t.isUpscaled;h(e,l,!t.isUpscaled),r||S.Am.success("Upscaled successfully")}catch(e){(0,N.eL)(e,c)}v(e,!1)},G=async e=>{let t=null==w?void 0:w.images.find(t=>t.id===e);if(!t)throw Error("Image not found");let l=null==w?void 0:w.settings;if(!l){S.Am.error("Please generate an image first and then variate it");return}let r=(0,d.X4)();P.mutate({isPremium:c,imgSrc:t.src,settings:l,randomSeed:r},{onSuccess:e=>{j([{src:e,randomSeed:r}],l,t)},onError:e=>(0,N.eL)(e,c)})},H=e=>{y(e)},{images:D}=null!=w?w:{images:[]},Z=R.watch("aspect_ratio"),q=m(),J=!(0,T.yn)(null==w?void 0:w.settings,R.getValues()),K=u?o.G:b.U;return(0,r.jsxs)("div",{className:(0,_.cn)("hide-scrollbar relative flex h-screen flex-col gap-[34px] overflow-y-auto overflow-x-hidden px-9 py-6",t),children:[(0,r.jsx)(K,{numOfImages:L,renderNoImages:u?X:U,isVariationSupported:!0,selectedCollection:w,aspectRatio:Z,handleDeleteImage:H,handleUpscale:B,isUserPremium:c,images:D,isLoading:q.isLoading,isVariationLoading:P.isLoading,isSettingsChanged:J,handleFullView:e=>{let t=null==w?void 0:w.images.findIndex(t=>t.id===e);void 0!==t&&O({isModalOpen:!0,initialImageIndex:t})},handleImageVariate:G,handleFocusOriginalImage:e=>{var t;e&&(null===(t=document.getElementById(e))||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),null==F||F(e,!0),setTimeout(()=>{null==F||F(e,!1)},2500))},collections:p,setSelectedCollection:g}),(0,r.jsx)(V,{generateImageMutation:q,isPremium:c}),!u&&w&&(0,r.jsx)(E.h,{getSettingItems:e=>{var t,l;return[{title:"Model",value:null==w?void 0:null===(t=w.settings.model)||void 0===t?void 0:t.name},{title:"Art Style",value:null==w?void 0:null===(l=w.settings.style)||void 0===l?void 0:l.style_name},{title:"Aspect Ratio",value:null==w?void 0:w.settings.aspect_ratio},{title:"Seed",value:e.randomSeed||(null==w?void 0:w.settings.seed),isCopyable:!0},{title:"CFG Scale",value:null==w?void 0:w.settings.cfg}]},handleDeleteImage:H,closeFullViewModal:()=>{O({isModalOpen:!1,initialImageIndex:0})},isFullViewOpen:M.isModalOpen,collection:w,initialImageIndex:M.initialImageIndex,handleUpscale:B})]})}},69349:function(e,t,l){"use strict";l.d(t,{m:function(){return x}});var r=l(57437);l(2265);var n=l(65052),a=l(32220),s=l(86088),o=l(16003),i=l(94599),c=l(32340),u=l(7216),d=l(81461);let x=e=>{let{isSubscriptionActive:t}=e,{isRenderedInsideCanvas:l,modalContainer:x,activeTool:m}=(0,s.useToolsContext)(),{formHook:f}=(0,a.useFromTextFormContext)(),p=(0,i.useUserStoreContext)()(e=>e.favoriteStyles),g=(0,o.Td)()(e=>e.styles),h=(0,o.Td)()(e=>e.popularStyles),y=(0,o.Td)()(e=>e.defaultStyle),v=(0,i.useUserStoreContext)()(e=>e.favoriteModels),j=(0,o.Td)()(e=>e.models),C=(0,o.Td)()(e=>e.popularModels),T=(0,o.Td)()(e=>e.defaultModel),k=(0,i.useUserStoreContext)()(e=>e.toggleFavorite),I=f.watch("model");return(0,r.jsxs)(d.Rp,{className:(0,u.cn)({"w-[238px] min-w-[238px] max-w-[238px] p-0":l}),children:[(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.Ou,{controllerArgs:{name:"num_images",control:f.control}})}),(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.oM,{isSubscriptionActive:t,controllerArgs:{name:"aspect_ratio",control:f.control},isEnabled:I.aspect_ratio_enabled})}),(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.kk,{controllerArgs:{name:"model",control:f.control},settings:j,popularSettings:C,favoriteSettings:v,defaultSetting:T,toggleFavorite:k,onClickEventFire:e=>{c.c.triggerEventUsingElementId(n.i.TEXT_TO_IMAGE_MODEL,e,{[n.L.TOOL_USED]:m})},asModal:l,modalContainer:x},"fromTextModels")}),(0,r.jsxs)(d.Rp.Item,{children:[(0,r.jsx)(d.RM,{controllerArgs:{name:"style",control:f.control},settings:g,popularSettings:h,favoriteSettings:p,defaultSetting:y,toggleFavorite:k,onClickEventFire:e=>{c.c.triggerEventUsingElementId(n.i.TEXT_TO_IMAGE_STYLE,e,{[n.L.TOOL_USED]:m})},asModal:l,modalContainer:x},"fromTextArtStyle"),(0,r.jsx)(d.yM,{controllerArgs:{name:"high_res_results",control:f.control},isEnabled:I.hdr_toggle})]}),(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.K0,{formHook:f,name:"negative_prompt"})}),(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.f0,{controllerArgs:{name:"cfg",control:f.control},cfgEnabled:I.cfg_enabled})}),(0,r.jsx)(d.Rp.Item,{children:(0,r.jsx)(d.H7,{formHook:f,name:"seed"})})]})}},41412:function(e,t,l){"use strict";l.d(t,{_:function(){return a}});var r=l(60789),n=l(56691);let a=(e,t)=>{let{cfg:l}=e,a={...(0,n.WX)(e,t),cfg:l};return(0,r.wh)(a)}},23671:function(e,t,l){"use strict";l.d(t,{C:function(){return c},o:function(){return i}});var r=l(44494),n=l(15139),a=l(56691),s=l(41412);let o=new AbortController,i=async(e,t,l)=>{o.signal.aborted&&(o=new AbortController);let i=(0,a.kw)(t);i.append("Style-Id","".concat(e.model.model_id));let{data:c}=await r.p.post(a.TG.FROM_TEXT,{body:(0,s._)(e,l),headers:i,signal:o.signal},{throwOnError:!0});return{src:(0,n.RJ)(c),randomSeed:l}},c=()=>{o.abort()}},94364:function(e,t,l){"use strict";l.d(t,{TI:function(){return a},cg:function(){return s},yn:function(){return n}});var r=l(87199);let n=(e,t)=>(0,r.Qt)(e,t),a=(0,r.hB)(n),s=(0,r.hB)(n)}},function(e){e.O(0,[4705,789,9373,3138,8085,8792,4961,1453,6500,2936,9127,8152,2862,4666,5609,1740,2537,2670,703,8896,132,2630,5645,8091,1493,2270,3272,5319,3900,2181,3931,8882,2971,8069,1744],function(){return e(e.s=6089)}),_N_E=e.O()}]);